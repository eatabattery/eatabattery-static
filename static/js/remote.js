(function(g){var window=this;'use strict';var cim=function(r,n){return g.GB(r,n)},pWY=function(r){if(r instanceof g.DG)return r;
if(typeof r.oA=="function")return r.oA(!1);if(g.eO(r)){let n=0;const u=new g.DG;u.next=function(){for(;;){if(n>=r.length)return g.rH;if(n in r)return g.va(r[n++]);n++}};
return u}throw Error("Not implemented");},Baf=function(r,n,u){if(g.eO(r))g.mV(r,n,u);
else for(r=pWY(r);;){const {done:O,value:N}=r.next();if(O)break;n.call(u,N,void 0,r)}},Z6=function(r){g.QX(r,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.jm()).toString(36));
return r},JA=function(r,n,u){Array.isArray(u)||(u=[String(u)]);
g.m5(r.Z,n,u)},KJG=function(r,n){const u=[];
Baf(n,function(O){let N;try{N=g.r9.prototype.cJ.call(this,O,!0)}catch(Z){if(Z=="Storage: Invalid value was encountered")return;throw Z;}N===void 0?u.push(O):g.Cn(N)&&u.push(O)},r);
return u},RCm=function(r,n){KJG(r,n).forEach(function(u){g.r9.prototype.remove.call(this,u)},r)},MIG=function(r){if(r.lY){if(r.lY.locationOverrideToken)return{locationOverrideToken:r.lY.locationOverrideToken};
if(r.lY.latitudeE7!=null&&r.lY.longitudeE7!=null)return{latitudeE7:r.lY.latitudeE7,longitudeE7:r.lY.longitudeE7}}return null},HJl=function(r,n){g.Uv(r,n)||r.push(n)},jE=function(r){let n=0;
for(const u in r)n++;return n},D$7=function(r){try{return g.Ex.JSON.parse(r)}catch(n){}r=String(r);
if(/^\s*$/.test(r)?0:/^[\],:{}\s\u2028\u2029]*$/.test(r.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+r+")")}catch(n){}throw Error("Invalid JSON string: "+r);},k1=function(r){if(g.Ex.JSON)try{return g.Ex.JSON.parse(r)}catch(n){}return D$7(r)},v4G=function(r,n,u,O){const N=new g.KK(null);
r&&g.Ya(N,r);n&&g.Rh(N,n);u&&g.qR(N,u);O&&(N.C=O);return N},IrY=function(r,n){return new g.hwx(r,n)},GR=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},WJV=function(r,n){return r===n},wT=function(r,n){this.C={};
this.X=[];this.Gr=this.size=0;var u=arguments.length;if(u>1){if(u%2)throw Error("Uneven number of arguments");for(var O=0;O<u;O+=2)this.set(arguments[O],arguments[O+1])}else if(r)if(r instanceof wT)for(u=r.pQ(),O=0;O<u.length;O++)this.set(u[O],r.get(u[O]));else for(O in r)this.set(O,r[O])},TR=function(r){if(r.size!=r.X.length){for(var n=0,u=0;n<r.X.length;){var O=r.X[n];
GR(r.C,O)&&(r.X[u++]=O);n++}r.X.length=u}if(r.size!=r.X.length){n={};for(O=u=0;u<r.X.length;){const N=r.X[u];GR(n,N)||(r.X[O++]=N,n[N]=1);u++}r.X.length=O}},tA=function(r){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new wT;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";r&&(this.id=r.id||r.name,this.name=r.name,this.clientName=r.clientName?r.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=r.app,this.type=r.type||"REMOTE_CONTROL",this.username=r.user||"",this.avatar=r.userAvatarUri||"",this.obfuscatedGaiaId=r.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=r.ownerObfuscatedGaiaId||"",this.theme=r.theme||"u",iJr(this,r.capabilities||""),g4a(this,r.compatibleSenderThemes||""),FJv(this,r.experiments||""),this.brand=r.brand||"",this.model=r.model||"",this.year=r.year||0,this.os=r.os||"",this.osVersion=r.osVersion||"",this.chipset=r.chipset||"",this.mdxDialServerType=r.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",r=r.deviceInfo)&&(r=JSON.parse(r),this.brand=r.brand||"",this.model=r.model||"",this.year=r.year||0,this.os=r.os||"",this.osVersion=r.osVersion||"",this.chipset=r.chipset||"",this.clientName=r.clientName?r.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=r.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},iJr=function(r,n){r.capabilities.clear();
g.$Z(n.split(","),g.JY(cim,Ai7)).forEach(u=>{r.capabilities.add(u)})},g4a=function(r,n){r.compatibleSenderThemes.clear();
g.$Z(n.split(","),g.JY(cim,yi2)).forEach(u=>{r.compatibleSenderThemes.add(u)})},FJv=function(r,n){r.experiments.clear();
n.split(",").forEach(u=>{r.experiments.add(u)})},Xr=function(r){r=r||{};
this.name=r.name||"";this.id=r.id||r.screenId||"";this.token=r.token||r.loungeToken||"";this.uuid=r.uuid||r.dialId||"";this.idType=r.screenIdType||"normal";this.secret=r.screenIdSecret||""},Y1=function(r,n){return!!n&&(r.id==n||r.uuid==n)},hCG=function(r){return{name:r.name,
screenId:r.id,loungeToken:r.token,dialId:r.uuid,screenIdType:r.idType,screenIdSecret:r.secret}},d$V=function(r){return new Xr(r)},eCm=function(r){return Array.isArray(r)?g.f2(r,d$V):[]},qy=function(r){return r?`{name:"${r.name}",id:${r.id.substr(0,6)}..,token:${r.token?".."+r.token.slice(-6):"-"},uuid:${r.uuid?".."+r.uuid.slice(-6):"-"},idType:${r.idType},secret:${r.secret?".."+r.secret.slice(-6):"-"}}`:"null"},fE=function(r){return Array.isArray(r)?"["+g.f2(r,qy).join(",")+"]":"null"},x1=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(r){const n=Math.random()*16|0;
return(r=="x"?n:n&3|8).toString(16)})},CIl=function(r){return g.f2(r,function(n){return{key:n.id,
name:n.name}})},VJ=function(r,n){return g.bG(r,function(u){return u||n?!u!=!n?!1:u.id==n.id:!0})},l_=function(r,n){return g.bG(r,function(u){return Y1(u,n)})},r17=function(){const r=g.VL.dw();
r&&RCm(r,r.Gd.oA(!0))},QJ=function(){const r=g.QL("yt-remote-connected-devices")||[];
g.AY(r);return r},nrr=function(r){if(r.length==0)return[];
const n=r[0].indexOf("#"),u=n==-1?r[0]:r[0].substring(0,n);return g.f2(r,function(O,N){return N==0?O:O.substring(u.length)})},uq2=function(r){g.lq("yt-remote-connected-devices",r,86400)},oD=function(){if(SE)return SE;
let r=g.QL("yt-remote-device-id");r||(r=x1(),g.lq("yt-remote-device-id",r,31536E3));const n=QJ();let u=1,O=r;for(;g.Uv(n,O);)u++,O=r+"#"+u;return SE=O},LE=function(){let r=QJ();
const n=oD();g.oQ()&&g.hY(r,n);r=nrr(r);if(r.length==0)try{g.EJ("remote_sid")}catch(u){}else try{g.mj("remote_sid",r.join(","),-1)}catch(u){}},OiG=function(){return g.QL("yt-remote-session-browser-channel")},Nm2=function(){return g.QL("yt-remote-local-screens")||[]},ZiG=function(){g.lq("yt-remote-lounge-token-expiration",!0,86400)},J1l=function(r){r.length>5&&(r=r.slice(r.length-5));
const n=g.f2(Nm2(),function(O){return O.loungeToken}),u=g.f2(r,function(O){return O.loungeToken});
g.zY(u,function(O){return!g.Uv(n,O)})&&ZiG();
g.lq("yt-remote-local-screens",r,31536E3)},mQ=function(r){r||(g.SY("yt-remote-session-screen-id"),g.SY("yt-remote-session-video-id"));
LE();r=QJ();g.Bl(r,oD());uq2(r)},j$G=function(){if(!$1){const r=g.jc();
r&&($1=new g.Aw(r))}},k5l=function(){j$G();
return $1?!!$1.get("yt-remote-use-staging-server"):!1},E4=function(r,n){g.kS[r]=!0;
const u=g.JG();u&&u.publish.apply(u,arguments);g.kS[r]=!1},zR=function(){let r=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return r?parseInt(r[1],10):0},G5N=function(r){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+r)!=-1||document.currentScript.src.indexOf("&"+r)!=-1)},wQ7=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},s4=function(r){r.length?Tm7(r.shift(),function(){s4(r)}):PS()},PS=function(){let r=wQ7();
r&&r(!1,"No cast extension found")},Tm7=function(r,n,u){let O=document.createElement("script");
O.onerror=n;u&&(O.onload=u);g.So(O,g.LC(r));(document.head||document.documentElement).appendChild(O)},tWv=function(r){return"chrome-extension://"+r+"/cast_sender.js"},XQG=function(){const r=zR(),n=[];
if(r>1){const u=r-1;n.push("//www.gstatic.com/eureka/clank/"+r+"/cast_sender.js");n.push("//www.gstatic.com/eureka/clank/"+u+"/cast_sender.js")}return n},b_=function(){if(Y8Z){var r=2,n=wQ7(),u=function(){r--;
r==0&&n&&n(!0)};
window.__onGCastApiAvailable=u;Tm7("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",PS,u)}},q8r=function(){b_();
let r=XQG();r.push("//www.gstatic.com/eureka/clank/cast_sender.js");s4(r)},xz7=function(){b_();
let r=XQG();r.push(...fHY.map(tWv));r.push("//www.gstatic.com/eureka/clank/cast_sender.js");s4(r)},aD=function(r,n,u){g.Se.call(this);
this.V=u!=null?(0,g.Zh)(r,u):r;this.XW=n;this.G=(0,g.Zh)(this.AT,this);this.X=!1;this.C=0;this.N=this.HI=null;this.Z=[]},U4=function(){this.X=g.jm()},VWG=function(){cS||(cS=new U4)},lHN=function(){cS||(cS=new U4)},pE=function(){g.sF.call(this,"p")},BS=function(){g.sF.call(this,"o")},KE=function(){return Q$Z=Q$Z||new g.y1},S8f=function(r){g.sF.call(this,"serverreachability",r)},RD=function(r){const n=KE();
n.dispatchEvent(new S8f(n,r))},or7=function(r){g.sF.call(this,"statevent",r)},My=function(r){const n=KE();
n.dispatchEvent(new or7(n,r))},LyY=function(r,n,u,O){g.sF.call(this,"timingevent",r);
this.size=n;this.rtt=u;this.retries=O},HS=function(r,n){if(typeof r!=="function")throw Error("Fn must not be null and must be a function");
return g.Ex.setTimeout(function(){r()},n)},D6=function(){},vS=function(r,n,u,O){this.N=r;
this.Z=n;this.XU=u;this.lY=O||1;this.TP=new g.zE(this);this.W_=45E3;this.r9=null;this.V=!1;this.S=this.Io=this.A=this.pT=this.oo=this.d9=this.q1=null;this.Y=[];this.X=null;this.B=0;this.G=this.CT=null;this.jS=-1;this.eS=!1;this.M1=0;this.w9=null;this.yK=this.VK=this.ao=this.Zt=!1;this.C=new mzY},mzY=function(){this.N=null;
this.X="";this.C=!1},ID=function(r,n,u){r.pT=1;
r.A=Z6(n.clone());r.S=u;r.Zt=!0;$zZ(r,null)},$zZ=function(r,n){r.oo=Date.now();
WS(r);r.Io=r.A.clone();JA(r.Io,"t",r.lY);r.B=0;const u=r.N.VK;r.C=new mzY;r.X=ErY(r.N,u?n:null,!r.S);r.M1>0&&(r.w9=new g.QO((0,g.Zh)(r.oz,r,r.X),r.M1));r.TP.listen(r.X,"readystatechange",r.Wa);n=r.r9?g.x8(r.r9):{};r.S?(r.CT||(r.CT="POST"),n["Content-Type"]="application/x-www-form-urlencoded",r.X.send(r.Io,r.CT,r.S,n)):(r.CT="GET",r.X.send(r.Io,r.CT,null,n));RD(1)},s$Z=function(r){if(!zpY(r))return g.Of(r.X);
const n=g.NX(r.X);if(n==="")return"";let u="";const O=n.length,N=g.r0(r.X)==4;if(!r.C.N){if(typeof TextDecoder==="undefined")return i_(r),gT(r),"";r.C.N=new g.Ex.TextDecoder}for(let Z=0;Z<O;Z++)r.C.C=!0,u+=r.C.N.decode(n[Z],{stream:!(N&&Z==O-1)});n.length=0;r.C.X+=u;r.B=0;return r.C.X},zpY=function(r){return r.X?r.CT=="GET"&&r.pT!=2&&r.N.Dv:!1},bim=function(r,n){var u=r.B,O=n.indexOf("\n",u);
if(O==-1)return Fr;u=Number(n.substring(u,O));if(isNaN(u))return PHa;O+=1;if(O+u>n.length)return Fr;n=n.slice(O,O+u);r.B=O+u;return n},WS=function(r){r.d9=Date.now()+r.W_;
aHm(r,r.W_)},aHm=function(r,n){if(r.q1!=null)throw Error("WatchDog timer not null");
r.q1=HS((0,g.Zh)(r.z7,r),n)},AA=function(r){r.q1&&(g.Ex.clearTimeout(r.q1),r.q1=null)},gT=function(r){r.N.Lh()||r.eS||UzG(r.N,r)},i_=function(r){AA(r);
g.lU(r.w9);r.w9=null;r.TP.removeAll();if(r.X){const n=r.X;r.X=null;n.abort();n.dispose()}},OW=function(r,n){try{var u=r.N;
if(u.v4!=0&&(u.X==r||yJ(u.C,r)))if(!r.VK&&yJ(u.C,r)&&u.v4==3){try{var O=u.IQ.X.parse(n)}catch(w){O=null}if(Array.isArray(O)&&O.length==3){var N=O;if(N[0]==0)a:{if(!u.A){if(u.X)if(u.X.oo+3E3<r.oo)hA(u),dT(u);else break a;eE(u);My(18)}}else u.FZ=N[1],0<u.FZ-u.pT&&N[2]<37500&&u.w9&&u.Y==0&&!u.q1&&(u.q1=HS((0,g.Zh)(u.Ee,u),6E3));if(CE(u.C)<=1&&u.jS){try{u.jS()}catch(w){}u.jS=void 0}}else rj(u,11)}else if((r.VK||u.X==r)&&hA(u),!g.zB(n))for(N=u.IQ.X.parse(n),n=0;n<N.length;n++){let w=N[n];const T=w[0];
if(!(T<=u.pT))if(u.pT=T,w=w[1],u.v4==2)if(w[0]=="c"){u.Z=w[1];u.XU=w[2];const t=w[3];t!=null&&(u.C4=t);const X=w[5];X!=null&&typeof X==="number"&&X>0&&(u.M1=1.5*X);O=u;const Y=r.Iw();if(Y){const x=g.Jk(Y,"X-Client-Wire-Protocol");if(x){var Z=O.C;!Z.X&&(g.sD(x,"spdy")||g.sD(x,"quic")||g.sD(x,"h2"))&&(Z.Z=Z.G,Z.X=new Set,Z.C&&(nS(Z,Z.C),Z.C=null))}if(O.Zt){const m=g.Jk(Y,"X-HTTP-Session-Id");m&&(O.ya=m,g.QX(O.r9,O.Zt,m))}}u.v4=3;u.G&&u.G.ef();u.bW&&(u.zc=Date.now()-r.oo);O=u;var J=r;O.Qi=c1r(O,O.VK?
O.XU:null,O.K_);if(J.VK){pQa(O.C,J);var k=J,G=O.M1;G&&k.setTimeout(G);k.q1&&(AA(k),WS(k));O.X=J}else Bma(O);u.N.length>0&&u4(u)}else w[0]!="stop"&&w[0]!="close"||rj(u,7);else u.v4==3&&(w[0]=="stop"||w[0]=="close"?w[0]=="stop"?rj(u,7):u.disconnect():w[0]!="noop"&&u.G&&u.G.u2(w),u.Y=0)}RD(4)}catch(w){}},Ky7=function(r){this.G=r||10;
g.Ex.PerformanceNavigationTiming?(r=g.Ex.performance.getEntriesByType("navigation"),r=r.length>0&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(g.Ex.chrome&&g.Ex.chrome.loadTimes&&g.Ex.chrome.loadTimes()&&g.Ex.chrome.loadTimes().wasFetchedViaSpdy);this.Z=r?this.G:1;this.X=null;this.Z>1&&(this.X=new Set);this.C=null;this.N=[]},Rpm=function(r){return r.C?!0:r.X?r.X.size>=r.Z:!1},CE=function(r){return r.C?1:r.X?r.X.size:0},yJ=function(r,n){return r.C?r.C==n:r.X?r.X.has(n):!1},nS=function(r,
n){r.X?r.X.add(n):r.C=n},pQa=function(r,n){r.C&&r.C==n?r.C=null:r.X&&r.X.has(n)&&r.X.delete(n)},Nk=function(r){if(r.C!=null)return r.N.concat(r.C.Y);
if(r.X!=null&&r.X.size!==0){let n=r.N;for(const u of r.X.values())n=n.concat(u.Y);return n}return g.Hl(r.N)},MWv=function(r,n){const u=new D6;
if(g.Ex.Image){const O=new Image;O.onload=g.JY(Zw,u,"TestLoadImage: loaded",!0,n,O);O.onerror=g.JY(Zw,u,"TestLoadImage: error",!1,n,O);O.onabort=g.JY(Zw,u,"TestLoadImage: abort",!1,n,O);O.ontimeout=g.JY(Zw,u,"TestLoadImage: timeout",!1,n,O);g.Ex.setTimeout(function(){if(O.ontimeout)O.ontimeout()},1E4);
O.src=r}else n(!1)},Hiv=function(r,n){const u=new D6,O=new AbortController,N=setTimeout(()=>{O.abort();
Zw(u,"TestPingServer: timeout",!1,n)},1E4);
fetch(r,{signal:O.signal}).then(Z=>{clearTimeout(N);Z.ok?Zw(u,"TestPingServer: ok",!0,n):Zw(u,"TestPingServer: server error",!1,n)}).catch(()=>{clearTimeout(N);
Zw(u,"TestPingServer: error",!1,n)})},Zw=function(r,n,u,O,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),O(u)}catch(Z){}},Dzh=function(){this.X=new Jx},jb=function(r,n,u){return u&&u.qb?u.qb[r]||n:n},vrV=function(r){this.N=[];
this.XU=this.Qi=this.r9=this.K_=this.X=this.ya=this.Zt=this.eS=this.B=this.ao=this.S=null;this.NF=this.Io=0;this.Rx=jb("failFast",!1,r);this.w9=this.q1=this.A=this.V=this.G=null;this.p_=!0;this.FZ=this.pT=-1;this.lY=this.Y=this.oo=0;this.Qd=jb("baseRetryDelayMs",5E3,r);this.b0=jb("retryDelaySeedMs",1E4,r);this.vI=jb("forwardChannelMaxRetries",2,r);this.i$=jb("forwardChannelRequestTimeoutMs",2E4,r);this.b$=r&&r.MAn||void 0;this.R5=r&&r.bht||void 0;this.Dv=r&&r.EZK||!1;this.M1=void 0;this.VK=r&&r.XF||
!1;this.Z="";this.C=new Ky7(r&&r.vk6);this.L_=Math.min(r&&r.uqT||1E3,1E3);this.IQ=new Dzh;this.TP=r&&r.wSS||!1;this.d9=r&&r.ZHP||!1;this.TP&&this.d9&&(this.d9=!1);this.PS=r&&r.sQn||!1;r&&r.KYY&&(this.p_=!1);this.bW=!this.TP&&this.p_&&r&&r.C0Y||!1;this.h7=void 0;r&&r.PW&&r.PW>0&&(this.h7=r.PW);this.jS=void 0;this.zc=0;this.W_=!1;this.yK=this.CT=null},dT=function(r){r.X&&(kc(r),r.X.cancel(),r.X=null)},IHY=function(r){dT(r);
r.A&&(g.Ex.clearTimeout(r.A),r.A=null);hA(r);r.C.cancel();r.V&&(typeof r.V==="number"&&g.Ex.clearTimeout(r.V),r.V=null)},u4=function(r){Rpm(r.C)||r.V||(r.V=!0,g.Xn(r.xF,r),r.oo=0)},iiG=function(r,n){if(CE(r.C)>=r.C.Z-(r.V?1:0))return!1;
if(r.V)return r.N=n.Y.concat(r.N),!0;if(r.v4==1||r.v4==2||r.oo>=(r.Rx?0:r.vI))return!1;r.V=HS((0,g.Zh)(r.xF,r,n),Wya(r,r.oo));r.oo++;return!0},FyN=function(r,n){var u;
n?u=n.XU:u=r.Io++;const O=r.r9.clone();g.QX(O,"SID",r.Z);g.QX(O,"RID",u);g.QX(O,"AID",r.pT);Gv(r,O);r.B&&r.S&&g.Ec(O,r.B,r.S);u=new vS(r,r.Z,u,r.oo+1);r.B===null&&(u.r9=r.S);n&&(r.N=n.Y.concat(r.N));n=grr(r,u,r.L_);u.setTimeout(Math.round(r.i$*.5)+Math.round(r.i$*.5*Math.random()));nS(r.C,u);ID(u,O,n)},Gv=function(r,n){r.eS&&g.em(r.eS,function(u,O){g.QX(n,O,u)});
r.G&&g.em({},function(u,O){g.QX(n,O,u)})},grr=function(r,n,u){u=Math.min(r.N.length,u);
const O=r.G?(0,g.Zh)(r.G.MP,r.G,r):null;a:{var N=r.N;let k=-1;for(;;){const G=["count="+u];k==-1?u>0?(k=N[0].X,G.push("ofs="+k)):k=0:G.push("ofs="+k);let w=!0;for(let T=0;T<u;T++){var Z=N[T].X;const t=N[T].map;Z-=k;if(Z<0)k=Math.max(0,N[T].X-100),w=!1;else try{Z="req"+Z+"_"||"";try{var J=t instanceof Map?t:Object.entries(t);for(const [X,Y]of J){let x=Y;g.Cr(Y)&&(x=g.vF(Y));G.push(Z+X+"="+encodeURIComponent(x))}}catch(X){throw G.push(Z+"type="+encodeURIComponent("_badmap")),X;}}catch(X){O&&O(t)}}if(w){J=
G.join("&");break a}}J=void 0}r=r.N.splice(0,u);n.Y=r;return J},Bma=function(r){r.X||r.A||(r.lY=1,g.Xn(r.Ny,r),r.Y=0)},eE=function(r){if(r.X||r.A||r.Y>=3)return!1;
r.lY++;r.A=HS((0,g.Zh)(r.Ny,r),Wya(r,r.Y));r.Y++;return!0},kc=function(r){r.CT!=null&&(g.Ex.clearTimeout(r.CT),r.CT=null)},A1h=function(r){r.X=new vS(r,r.Z,"rpc",r.lY);
r.B===null&&(r.X.r9=r.S);r.X.M1=0;var n=r.Qi.clone();g.QX(n,"RID","rpc");g.QX(n,"SID",r.Z);g.QX(n,"AID",r.pT);g.QX(n,"CI",r.w9?"0":"1");!r.w9&&r.h7&&g.QX(n,"TO",r.h7);g.QX(n,"TYPE","xmlhttp");Gv(r,n);r.B&&r.S&&g.Ec(n,r.B,r.S);r.M1&&r.X.setTimeout(r.M1);var u=r.X;r=r.XU;u.pT=1;u.A=Z6(n.clone());u.S=null;u.Zt=!0;$zZ(u,r)},hA=function(r){r.q1!=null&&(g.Ex.clearTimeout(r.q1),r.q1=null)},UzG=function(r,n){var u=null;
if(r.X==n){hA(r);kc(r);r.X=null;var O=2}else if(yJ(r.C,n))u=n.Y,pQa(r.C,n),O=1;else return;if(r.v4!=0)if(n.V)if(O==1){u=n.S?n.S.length:0;n=Date.now()-n.oo;var N=r.oo;O=KE();O.dispatchEvent(new LyY(O,u,n,N));u4(r)}else Bma(r);else{var Z=n.jS;N=n.getLastError();if(N==3||N==0&&Z>0||!(O==1&&iiG(r,n)||O==2&&eE(r)))switch(u&&u.length>0&&(n=r.C,n.N=n.N.concat(u)),N){case 1:rj(r,5);break;case 4:rj(r,10);break;case 3:rj(r,6);break;default:rj(r,2)}}},Wya=function(r,n){let u=r.Qd+Math.floor(Math.random()*r.b0);
r.isActive()||(u*=2);return u*n},rj=function(r,n){if(n==2){var u=(0,g.Zh)(r.Zd,r),O=r.R5;
const N=!O;O=new g.KK(O||"//www.google.com/images/cleardot.gif");g.Ex.location&&g.Ex.location.protocol=="http"||g.Ya(O,"https");Z6(O);N?MWv(O.toString(),u):Hiv(O.toString(),u)}else My(2);r.v4=0;r.G&&r.G.FD(n);y1N(r);IHY(r)},y1N=function(r){r.v4=0;
r.yK=[];if(r.G){const n=Nk(r.C);if(n.length!=0||r.N.length!=0)g.Dh(r.yK,n),g.Dh(r.yK,r.N),r.C.N.length=0,g.Hl(r.N),r.N.length=0;r.G.Zq()}},hpV=function(r){if(r.v4==0)return r.yK;
let n=[];g.Dh(n,Nk(r.C));g.Dh(n,r.N);return n},c1r=function(r,n,u){var O=g.uO(u);
O.X!=""?(n&&g.Rh(O,n+"."+O.X),g.qR(O,O.N)):(O=g.Ex.location,O=v4G(O.protocol,n?n+"."+O.hostname:O.hostname,+O.port,u));n=r.Zt;u=r.ya;n&&u&&g.QX(O,n,u);g.QX(O,"VER",r.C4);Gv(r,O);return O},ErY=function(r,n,u){if(n&&!r.VK)throw Error("Can't create secondary domain capable XhrIo object.");
n=r.Dv&&!r.b$?new g.AZ(new g.GE({fn:u})):new g.AZ(r.b$);n.B=r.VK;return n},dzY=function(){},epl=function(){},Tv=function(r,n){g.y1.call(this);
this.X=new vrV(n);this.V=r;this.C=n&&n.nD||null;r=n&&n.jp||null;n&&n.yg6&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"});this.X.S=r;r=n&&n.vvv||null;n&&n.iQ&&(r?r["X-WebChannel-Content-Type"]=n.iQ:r={"X-WebChannel-Content-Type":n.iQ});n&&n.Os&&(r?r["X-WebChannel-Client-Profile"]=n.Os:r={"X-WebChannel-Client-Profile":n.Os});this.X.ao=r;(r=n&&n.alY)&&!g.zB(r)&&(this.X.B=r);this.B=n&&n.XF||!1;this.G=n&&n.ShS||!1;(n=n&&n.R7)&&!g.zB(n)&&(this.X.Zt=n,g.k8(this.C,n)&&(r=this.C,
n in r&&delete r[n]));this.N=new wj(this)},CHN=function(r){pE.call(this);
r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);const n=r.__sm__;n?this.data=(this.X=g.N1(n))?g.q1(n,this.X):n:this.data=r},rLv=function(r){BS.call(this);
this.status=1;this.errorCode=r},wj=function(r){this.X=r},tx=function(r,n){this.Z=r;
this.X=n},X_=function(r,n){if(typeof r!=="function")throw Error("Fn must not be null and must be a function");
return g.Ex.setTimeout(function(){r()},n)},qk=function(){Yc.dispatchEvent(new nWZ)},fS=function(r,n,u,O){this.X=r;
this.Z=n;this.B=u;this.V=O||1;this.C=45E3;this.N=new g.zE(this);this.G=new g.EH;this.G.setInterval(250)},OUN=function(r,n,u){r.qc=1;
r.ez=Z6(n.clone());r.Di=u;r.Zt=!0;uHY(r,null)},xc=function(r,n,u,O,N){r.qc=1;
r.ez=Z6(n.clone());r.Di=null;r.Zt=u;N&&(r.Uk=!1);uHY(r,O)},uHY=function(r,n){r.rI=Date.now();
VZ(r);r.Xe=r.ez.clone();JA(r.Xe,"t",r.V);r.cR=0;r.BL=r.X.UF(r.X.U7()?n:null);r.GF>0&&(r.YO=new g.QO((0,g.Zh)(r.G1,r,r.BL),r.GF));r.N.listen(r.BL,"readystatechange",r.Lm);n=r.Bu?g.x8(r.Bu):{};r.Di?(r.o2="POST",n["Content-Type"]="application/x-www-form-urlencoded",r.BL.send(r.Xe,r.o2,r.Di,n)):(r.o2="GET",r.Uk&&!g.Pb&&(n.Connection="close"),r.BL.send(r.Xe,r.o2,null,n));r.X.ZE(1)},ZU7=function(r,n){var u=r.cR,O=n.indexOf("\n",u);
if(O==-1)return l4;u=Number(n.substring(u,O));if(isNaN(u))return N2V;O+=1;if(O+u>n.length)return l4;n=n.slice(O,O+u);r.cR=O+u;return n},VZ=function(r){r.rM=Date.now()+r.C;
JLv(r,r.C)},JLv=function(r,n){if(r.fW!=null)throw Error("WatchDog timer not null");
r.fW=X_((0,g.Zh)(r.mZ,r),n)},j8Z=function(r){r.fW&&(g.Ex.clearTimeout(r.fW),r.fW=null)},QZ=function(r){r.X.Lh()||r.pY||r.X.OF(r)},Sb=function(r){j8Z(r);
g.lU(r.YO);r.YO=null;r.G.stop();r.N.removeAll();if(r.BL){const n=r.BL;r.BL=null;n.abort();n.dispose()}r.Ox&&(r.Ox=null)},kzY=function(r,n){try{r.X.rd(r,n),r.X.ZE(4)}catch(u){}},wcr=function(r,n,u,O,N){if(O==0)u(!1);
else{var Z=N||0;O--;GzN(r,n,function(J){J?u(!0):g.Ex.setTimeout(function(){wcr(r,n,u,O,Z)},Z)})}},GzN=function(r,n,u){const O=new Image;
O.onload=function(){try{oZ(O),u(!0)}catch(N){}};
O.onerror=function(){try{oZ(O),u(!1)}catch(N){}};
O.onabort=function(){try{oZ(O),u(!1)}catch(N){}};
O.ontimeout=function(){try{oZ(O),u(!1)}catch(N){}};
g.Ex.setTimeout(function(){if(O.ontimeout)O.ontimeout()},n);
O.src=r},oZ=function(r){r.onload=null;
r.onerror=null;r.onabort=null;r.ontimeout=null},T27=function(r){this.X=r;
this.C=new Jx},tMN=function(r){const n=LS(r.X,r.Hm,"/mail/images/cleardot.gif");
Z6(n);wcr(n.toString(),5E3,(0,g.Zh)(r.iS,r),3,2E3);r.ZE(1)},$c=function(r){var n=r.X.V;
n!=null?(qk(),n?(qk(),mY(r.X,r,!1)):(qk(),mY(r.X,r,!0))):(r.qV=new fS(r),r.qV.Bu=r.bL,n=r.X,n=LS(n,n.U7()?r.CM:null,r.V9),qk(),JA(n,"TYPE","xmlhttp"),xc(r.qV,n,!1,r.CM,!1))},EW=function(r,n,u){this.X=1;
this.C=[];this.N=[];this.G=new Jx;this.S=r||null;this.V=n!=null?n:null;this.A=u||!1},XcY=function(r,n){this.X=r;
this.map=n;this.context=null},YFm=function(r,n,u,O){g.sF.call(this,"timingevent",r);
this.size=n;this.rtt=u;this.retries=O},qFf=function(r){g.sF.call(this,"serverreachability",r)},fCv=function(r){r.kf(1,0);
r.Nc=LS(r,null,r.tR);zv(r)},xBN=function(r){r.O_&&(r.O_.abort(),r.O_=null);
r.aH&&(r.aH.cancel(),r.aH=null);r.p9&&(g.Ex.clearTimeout(r.p9),r.p9=null);sW(r);r.Od&&(r.Od.cancel(),r.Od=null);r.SG&&(g.Ex.clearTimeout(r.SG),r.SG=null)},PL=function(r,n){if(r.X==0)throw Error("Invalid operation: sending map when state is closed");
r.C.push(new XcY(r.Ha++,n));r.X!=2&&r.X!=3||zv(r)},VMG=function(r){let n=0;
r.aH&&n++;r.Od&&n++;return n},zv=function(r){r.Od||r.SG||(r.SG=X_((0,g.Zh)(r.VU,r),0),r.lR=0)},Q8G=function(r,n){if(r.X==1){if(!n){r.O7=Math.floor(Math.random()*1E5);
n=r.O7++;const u=new fS(r,"",n);u.Bu=r.Xx;const O=b4(r),N=r.Nc.clone();g.QX(N,"RID",n);g.QX(N,"CVER","1");aZ(r,N);OUN(u,N,O);r.Od=u;r.X=2}}else r.X==3&&(n?lCm(r,n):r.C.length==0||r.Od||lCm(r))},lCm=function(r,n){if(n)if(r.IV>6){r.C=r.N.concat(r.C);
r.N.length=0;var u=r.O7-1;n=b4(r)}else u=n.B,n=n.Di;else u=r.O7++,n=b4(r);const O=r.Nc.clone();g.QX(O,"SID",r.Z);g.QX(O,"RID",u);g.QX(O,"AID",r.S_);aZ(r,O);u=new fS(r,r.Z,u,r.lR+1);u.Bu=r.Xx;u.setTimeout(1E4+Math.round(1E4*Math.random()));r.Od=u;OUN(u,O,n)},aZ=function(r,n){r.fC&&(r=r.fC.Iz())&&g.em(r,function(u,O){g.QX(n,O,u)})},b4=function(r){const n=Math.min(r.C.length,1E3),u=["count="+n];
let O;r.IV>6&&n>0?(O=r.C[0].X,u.push("ofs="+O)):O=0;for(let N=0;N<n;N++){let Z=r.C[N].X;const J=r.C[N].map;Z=r.IV<=6?N:Z-O;try{g.em(J,function(k,G){u.push("req"+Z+"_"+G+"="+encodeURIComponent(k))})}catch(k){u.push("req"+Z+"_type="+encodeURIComponent("_badmap"))}}r.N=r.N.concat(r.C.splice(0,n));
return u.join("&")},SFh=function(r){r.aH||r.p9||(r.B=1,r.p9=X_((0,g.Zh)(r.O3,r),0),r.Jd=0)},UW=function(r){if(r.aH||r.p9||r.Jd>=3)return!1;
r.B++;r.p9=X_((0,g.Zh)(r.O3,r),oWZ(r,r.Jd));r.Jd++;return!0},mY=function(r,n,u){r.d4=r.V==null?u:!r.V;
r.yS=n.eX;r.A||fCv(r)},sW=function(r){r.AK!=null&&(g.Ex.clearTimeout(r.AK),r.AK=null)},oWZ=function(r,n){let u=5E3+Math.floor(Math.random()*1E4);
r.isActive()||(u*=2);return u*n},cL=function(r,n){if(n==2||n==9){var u=null;
r.fC&&(u=null);var O=(0,g.Zh)(r.x9,r);u||(u=new g.KK("//www.google.com/images/cleardot.gif"),Z6(u));GzN(u.toString(),1E4,O)}else qk();Lnf(r,n)},Lnf=function(r,n){r.X=0;
r.fC&&r.fC.wd(n);mBY(r);xBN(r)},mBY=function(r){r.X=0;
r.yS=-1;if(r.fC)if(r.N.length==0&&r.C.length==0)r.fC.KJ();else{const n=g.Hl(r.N),u=g.Hl(r.C);r.N.length=0;r.C.length=0;r.fC.KJ(n,u)}},LS=function(r,n,u){let O=g.uO(u);
if(O.X!="")n&&g.Rh(O,n+"."+O.X),g.qR(O,O.N);else{const N=window.location;O=v4G(N.protocol,n?n+"."+N.hostname:N.hostname,+N.port,u)}r.bF&&g.em(r.bF,function(N,Z){g.QX(O,Z,N)});
g.QX(O,"VER",r.IV);aZ(r,O);return O},$BY=function(){},EWl=function(){this.X=[];
this.C=[]},z9N=function(r,n){this.action=r;
this.params=n||{}},pS=function(r,n){g.Se.call(this);
this.X=new g.Y9(this.kN,0,this);g.E(this,this.X);this.XW=5E3;this.retryCount=this.hD=0;if(typeof r==="function")n&&(r=(0,g.Zh)(r,n));else if(r&&typeof r.handleEvent==="function")r=(0,g.Zh)(r.handleEvent,r);else throw Error("Invalid listener argument");this.C=r},BL=function(r,n,u=!1,O=()=>"",N=!1,Z=!1,J=!1,k=()=>g.k3({}),G=!1,w,T){this.VK=r;
this.oo=n;this.B=new g.FZ;this.V=T;this.C=(this.N=!!w)?w(()=>{this.y7()}):new pS(this.y7,this);
this.X=null;this.S=!1;this.Y=null;this.Zt="";this.CT=this.q1=0;this.Z=[];this.jS=u;this.r9=O;this.A=Z;this.pT=k;this.ao=J;this.eS=null;this.G=g.k3();this.yK=N;this.TP=G;this.W_=new s87;this.w9=new PrY;this.d9=new bUm;this.M1=new aCa;this.Io=new UBY;this.lY=new cLf;this.XU=new pc7},B2a=function(r,n,u,O,N){KS(r);
if(r.X){const Z=g.K("ID_TOKEN"),J=r.X.Xx||{};Z?J["x-youtube-identity-token"]=Z:delete J["x-youtube-identity-token"];r.X.Xx=J}O?(O.getState()!=3&&VMG(O)==0||O.getState(),r.X.connect(n,u,r.oo,O.Z,O.S_)):N?r.X.connect(n,u,r.oo,N.sessionId,N.arrayId):r.X.connect(n,u,r.oo);r.N&&!r.C.isActive()&&r.C.start();r.V&&r.V.VA1()},R92=function(r,n){return r.TP?!Object.values(Kn2).includes(n):!1},MM7=async function(r){try{await RZ(r)}finally{var n=r.Z;
r.Z=[];var u=n;n=n.length;for(let O=0;O<n;++O)PL(r.X,u[O]);Mk(r);Mk(r)}},Mk=function(r){r.publish("handlerOpened");
r.W_.X("BROWSER_CHANNEL")},KS=function(r){if(r.X){const n=r.r9(),u=r.X.Xx||{};
n?u["x-youtube-lounge-xsrf-token"]=n:delete u["x-youtube-lounge-xsrf-token"];r.X.Xx=u}},RZ=function(r){if(!r.ao)return HUY(r);
r.eS===null&&(r.eS=HUY(r));return r.eS},HUY=function(r){return g.x3(r.pT().then(n=>{if(r.X){let u=r.X.Xx||{};
n&&Object.keys(n).length>0?u={...u,...n}:delete u.Authorization;r.X.Xx=u}}).Sx(()=>{}),()=>{r.eS=null})},HL=function(r){this.scheme="https";
this.port=this.domain="";this.X="/api/lounge";this.C=!0;r=r||document.location.href;const n=Number(g.mx(r)[4]||null)||"";n&&(this.port=":"+n);this.domain=g.EB(r)||"";r=g.cg();r.search("MSIE")>=0&&(r=r.match(/MSIE ([\d.]+)/)[1],g.UD(r,"10.0")<0&&(this.C=!1))},Dw=function(r,n){let u=r.X;
r.C&&(u=r.scheme+"://"+r.domain+r.port+r.X);return g.Kt(u+n,{})},DBf=function(r){g.R8(r.channel,"m",()=>{r.V=3;
r.N.reset();r.A=null;r.B=0;for(const n of r.Y)r.channel&&r.channel.send(n);r.Y=[];r.publish("webChannelOpened");r.r9.X("WEB_CHANNEL")});
g.R8(r.channel,"n",()=>{r.V=0;r.N.isActive()||r.publish("webChannelClosed");const n=r.channel?.Z().N();n&&(r.Y=[...n]);r.CT.X("WEB_CHANNEL")});
g.R8(r.channel,"p",n=>{const u=n.data;u[0]==="gracefulReconnect"?(r.N.start(),r.channel&&r.channel.close()):r.publish("webChannelMessage",new z9N(u[0],u[1]));r.wy=n.statusCode;r.eS.X("WEB_CHANNEL")});
g.R8(r.channel,"o",()=>{r.wy===401||r.N.start();r.publish("webChannelError");r.Zt.X("WEB_CHANNEL","")})},vL=function(r){const n=r.oo();
n?r.Z["x-youtube-lounge-xsrf-token"]=n:delete r.Z["x-youtube-lounge-xsrf-token"]},iU2=function(r,n,u=()=>"",O,N){const Z=()=>new BL(Dw(r,"/bc"),n,!1,u,O);
return g.ZO("enable_mdx_web_channel_desktop")?new vWh(()=>new ICN(Dw(r,"/wc"),n,u)):new Wnv(Z,N)},yLh=function(){var r=gW2;
Fnl();IZ.push(r);ALr()},WL=function(r,n){Fnl();
const u=h9Z(r,String(n));IZ.length==0?dBN(u):(ALr(),g.mV(IZ,function(O){O(u)}))},i4=function(r){WL("CP",r)},Fnl=function(){IZ||(IZ=g.sx("yt.mdx.remote.debug.handlers_")||[],g.zf("yt.mdx.remote.debug.handlers_",IZ))},dBN=function(r){const n=(gj+1)%50;
gj=n;F_[n]=r;Ax||(Ax=n==49)},ALr=function(){var r=IZ;
if(F_[0]){var n=Ax?gj:-1;do{n=(n+1)%50;const u=F_[n];g.mV(r,function(O){O(u)})}while(n!=gj);
F_=Array(50);gj=-1;Ax=!1}},h9Z=function(r,n){let u=(Date.now()-e92)/1E3;
u.toFixed&&(u=u.toFixed(3));const O=[];O.push("[",u+"s","] ");O.push("[","yt.mdx.remote","] ");O.push(r+": "+n,"\n");return O.join("")},yZ=function(r){g.TH.call(this);
this.V=r;this.screens=[]},CrY=function(r,n){const u=r.get(n.uuid)||r.get(n.id);
if(u)return r=u.name,u.id=n.id||u.id,u.name=n.name,u.token=n.token,u.uuid=n.uuid||u.uuid,u.name!=r;r.screens.push(n);return!0},rZN=function(r,n){let u=r.screens.length!=n.length;
r.screens=g.$Z(r.screens,function(N){return!!VJ(n,N)});
const O=n.length;for(let N=0;N<O;N++)u=CrY(r,n[N])||u;return u},n3Z=function(r,n){const u=r.screens.length;
r.screens=g.$Z(r.screens,function(O){return!(O||n?!O!=!n?0:O.id==n.id:1)});
return r.screens.length<u},dj=function(r){yZ.call(this,"LocalScreenService");
this.C=r;this.X=NaN;hx(this);this.info("Initializing with "+fE(this.screens))},unm=function(r){if(r.screens.length){const n=g.f2(r.screens,function(O){return O.id}),u=Dw(r.C,"/pairing/get_lounge_token_batch");
r.C.sendRequest("POST",u,{screen_ids:n.join(",")},(0,g.Zh)(r.Hq,r),(0,g.Zh)(r.dS,r))}},hx=function(r){if(g.ZO("deprecate_pair_servlet_enabled"))return rZN(r,[]);
var n=eCm(Nm2());n=g.$Z(n,function(u){return!u.uuid});
return rZN(r,n)},eb=function(r,n){J1l(g.f2(r.screens,hCG));
n&&ZiG()},CS=function(r){WL("OnlineScreenService",r)},rI=function(r){isNaN(r.N)||g.uV(r.N);
r.N=g.ri((0,g.Zh)(r.B,r),r.Z>0&&r.Z<g.jm()?2E4:1E4)},n5=function(r,n){a:if(jE(n)!=jE(r.X))var u=!1;
else{u=g.jP(n);var O=u.length;for(let N=0;N<O;++N)if(!r.X[u[N]]){u=!1;break a}u=!0}u||(CS("Updated online screens: "+g.vF(r.X)),r.X=n,r.publish("screenChange"));O1Y(r)},ug=function(r,n,u){const O=Dw(r.G,"/pairing/get_screen_availability");
r.G.sendRequest("POST",O,{lounge_token:n.token},(0,g.Zh)(function(N){N=N.screens||[];const Z=N.length;for(let J=0;J<Z;++J)if(N[J].loungeToken==n.token){u(N[J].status=="online");return}u(!1)},r),(0,g.Zh)(function(){u(!1)},r))},O1Y=function(r){r=g.jP(g.C2(r.X,function(n){return n}));
g.AY(r);r.length?g.lq("yt-remote-online-screen-ids",r.join(","),60):g.SY("yt-remote-online-screen-ids")},NkV=function(r){const n={};
g.mV(r.V(),function(u){u.token?n[u.token]=u.id:this.cg("Requesting availability of screen w/o lounge token.")});
return n},O1=function(r,n=!1){yZ.call(this,"ScreenService");
this.Z=r;this.B=n;this.X=this.C=null;this.N=[];this.G={};Z1a(this)},jdG=function(r,n,u,O,N,Z){r.info("getAutomaticScreenByIds "+u+" / "+n);
u||(u=r.G[n]);const J=r.OL();let k=u?l_(J,u):null;u&&(r.B||k)||(k=l_(J,n));if(k){k.uuid=n;const G=Nl(r,k);ug(r.X,G,function(w){N(w?G:null)})}else u?JZ7(r,u,(0,g.Zh)(function(G){const w=Nl(this,new Xr({name:O,
screenId:u,loungeToken:G,dialId:n||""}));ug(this.X,w,function(T){N(T?w:null)})},r),Z):N(null)},k$Y=function(r,n){const u=r.screens.length;
for(let O=0;O<u;++O)if(r.screens[O].name==n)return r.screens[O];return null},G$a=function(r,n,u){ug(r.X,n,u)},JZ7=function(r,n,u,O){r.info("requestLoungeToken_ for "+n);
const N={postParams:{screen_ids:n},method:"POST",context:r,onSuccess:function(Z,J){Z=J&&J.screens||[];Z[0]&&Z[0].screenId==n?u(Z[0].loungeToken):O(Error("Missing lounge token in token response"))},
onError:function(){O(Error("Request screen lounge token failed"))}};
g.TJ(Dw(r.Z,"/pairing/get_lounge_token_batch"),N)},wFl=function(r){r.screens=r.C.OL();
var n=r.G;const u={};for(var O in n)u[n[O]]=O;n=r.screens.length;for(O=0;O<n;++O){const N=r.screens[O];N.uuid=u[N.id]||""}r.info("Updated manual screens: "+fE(r.screens))},Z1a=function(r){Zy(r);
r.C=new dj(r.Z);r.C.subscribe("screenChange",(0,g.Zh)(r.Tm,r));wFl(r);r.B||(r.N=eCm(g.QL("yt-remote-automatic-screen-cache")||[]));Zy(r);r.info("Initializing automatic screens: "+fE(r.N));r.X=new Tkv(r.Z,(0,g.Zh)(r.OL,r,!0));r.X.subscribe("screenChange",(0,g.Zh)(function(){this.publish("onlineScreenChange")},r))},Nl=function(r,n){var u=r.get(n.id);
u?(u.uuid=n.uuid,n=u):((u=l_(r.N,n.uuid))?(u.id=n.id,u.token=n.token,n=u):r.N.push(n),r.B||tTv(r));Zy(r);r.G[n.uuid]=n.id;g.lq("yt-remote-device-id-map",r.G,31536E3);return n},tTv=function(r){r=g.$Z(r.N,n=>n.idType!="shortLived");
g.lq("yt-remote-automatic-screen-cache",g.f2(r,hCG))},Zy=function(r){r.G=g.QL("yt-remote-device-id-map")||{}},JP=function(r,n,u){g.TH.call(this);
this.Zt=u;this.Z=r;this.C=n;this.X=null},jC=function(r,n){r.X=n;
r.publish("sessionScreen",r.X)},XF2=function(r,n){r.X&&(r.X.token=n,Nl(r.Z,r.X));
r.publish("sessionScreen",r.X)},kv=function(r,n){WL(r.Zt,n)},qHh=function(r,n){g.uV(r.q1);
r.q1=0;n?r.config_.enableCastLoungeToken&&n.loungeToken?n.deviceId?r.X&&r.X.uuid==n.deviceId||(n.loungeTokenRefreshIntervalMs?YHf(r,{name:r.C.friendlyName,screenId:n.screenId,loungeToken:n.loungeToken,dialId:n.deviceId,screenIdType:"shortLived"},n.loungeTokenRefreshIntervalMs):(g.bN(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(n)}.`)),GD(r,n.screenId))):(g.bN(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(n)}.`)),GD(r,n.screenId)):
GD(r,n.screenId):r.n1(Error("Waiting for session status timed out."))},f$7=function(r){g.uV(r.S);
r.S=0;g.uV(r.B);r.B=0;g.uV(r.q1);r.q1=0;g.uV(r.G);r.G=0;g.uV(r.A);r.A=0},x3Y=function(r,n){r.info("sendYoutubeMessage_: "+n+" "+g.vF());
const u={};u.type=n;r.N?r.N.sendMessage("urn:x-cast:com.google.youtube.mdx",u,()=>{},(0,g.Zh)(function(){kv(this,"Failed to send message: "+n+".")},r)):kv(r,"Sending yt message without session: "+g.vF(u))},l$m=function(r){x3Y(r,"getLoungeToken");
g.uV(r.G);r.G=g.ri(()=>{VTr(r,null)},3E4)},wI=function(r,n){g.uV(r.A);
r.A=0;n==0?l$m(r):r.A=g.ri(()=>{l$m(r)},n)},VTr=function(r,n){g.uV(r.G);
r.G=0;let u=null;n?n.loungeToken?r.X?.token==n.loungeToken&&(u="staleLoungeToken"):u="missingLoungeToken":u="noLoungeTokenResponse";u?(r.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(n)}, error: ${u}`),wI(r,3E4)):(XF2(r,n.loungeToken),wI(r,n.loungeTokenRefreshIntervalMs))},GD=function(r,n){n?(r.info("onConnectedScreenId_: Received screenId: "+n),r.X&&r.X.id==n||r.eS(n,u=>{jC(r,u)},()=>r.n1(),5)):r.n1(Error("Waiting for session status timed out."))},QdV=
function(r,n,u,O){g.uV(r.B);
r.B=0;G$a(r.Z,n,N=>{N||O<0?u(N):r.B=g.ri(()=>{QdV(r,n,u,O-1)},300)})},YHf=function(r,n,u){r.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(n)}`);
const O=new Xr(n);QdV(r,O,N=>{N?(Nl(r.Z,O),jC(r,O),wI(r,u)):(g.bN(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(n)} is not online.`)),r.n1())},5)},TD=function(r){return new Promise(n=>{r.oo=x1();
if(r.r9){const u=new chrome.cast.DialLaunchResponse(!0,SHf(r));n(u);o3Y(r)}else r.Y=()=>{g.uV(r.q1);r.Y=()=>{};
r.q1=NaN;const u=new chrome.cast.DialLaunchResponse(!0,SHf(r));n(u);o3Y(r)},r.q1=g.ri(()=>{r.Y()},100)})},LOm=function(r){g.uV(r.B);
r.B=0;g.uV(r.A);r.A=0;r.G();r.G=()=>{};
g.uV(r.q1)},tP=function(r){return!(!r.config_.enableDialLoungeToken||!r.N?.getDialAppInfo)},XW=function(r,n){r.info(`getDialAppInfoWithTimeout_ ${n}`);
tP(r)&&(g.uV(r.A),r.A=0,n==0?m3v(r):r.A=g.ri(()=>{m3v(r)},n))},o3Y=function(r){r.G=r.Z.z1(r.oo,r.C.label,r.C.friendlyName,tP(r),(n,u)=>{r.G=()=>{};
jC(r,n);n.idType=="shortLived"&&u>0&&XW(r,u)},n=>{r.G=()=>{};
r.n1(n)})},SHf=function(r){var n={};
n.pairingCode=r.oo;n.theme=r.pT;k5l()&&(n.env_useStageMdx=1);return g.Bi(n)},$3G=function(r,n){const u=r.S.receiver.label,O=r.C.friendlyName;
return(new Promise(N=>{jdG(r.Z,u,n,O,Z=>{Z&&Z.token&&jC(r,Z);N(Z)},Z=>{kv(r,"Failed to get DIAL screen: "+Z);
N(null)})})).then(N=>N&&N.token?new chrome.cast.DialLaunchResponse(!1):TD(r))},zb7=function(r,n,u){r.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(n)}`);
const O=new Xr(n);return(new Promise(N=>{E32(r,O,Z=>{Z?(Nl(r.Z,O),jC(r,O),XW(r,u)):g.bN(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(n)} is not online.`));N(Z)},5)})).then(N=>N?new chrome.cast.DialLaunchResponse(!1):TD(r))},E32=function(r,n,u,O){g.uV(r.B);
r.B=0;G$a(r.Z,n,N=>{N||O<0?u(N):r.B=g.ri(()=>{E32(r,n,u,O-1)},300)})},m3v=function(r){tP(r)&&r.N.getDialAppInfo(n=>{r.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(n)}`);
n=n.extraData||{};let u=null;n.loungeToken?r.X?.token==n.loungeToken&&(u="staleLoungeToken"):u="missingLoungeToken";u?XW(r,3E4):(XF2(r,n.loungeToken),XW(r,n.loungeTokenRefreshIntervalMs))},n=>{r.info(`getDialAppInfo error: ${n}`);
XW(r,3E4)})},gW2=function(r){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(r)},Pdl=function(r){const n=r.C.Ah();
let u=r.X&&r.X.C;r=g.f2(n,function(O){u&&Y1(O,u.label)&&(u=null);const N=O.uuid?O.uuid:O.id;let Z=sdY(this,O);Z?(Z.label=N,Z.friendlyName=O.name):(Z=new chrome.cast.Receiver(N,O.name),Z.receiverType=chrome.cast.ReceiverType.CUSTOM);return Z},r);
u&&(u.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(u=new chrome.cast.Receiver(u.label,u.friendlyName),u.receiverType=chrome.cast.ReceiverType.CUSTOM),r.push(u));return r},Yv=function(r){return r.A||!!r.N.length||!!r.X},ql=function(r){WL("Controller",r)},f5=function(r,n,u){n!=r.X&&(g.lU(r.X),(r.X=n)?(u?r.publish("yt-remote-cast2-receiver-resumed",n.C):r.publish("yt-remote-cast2-receiver-selected",n.C),n.subscribe("sessionScreen",(0,g.Zh)(r.q1,r,n)),n.subscribe("sessionFailed",()=>b1Y(r,n)),n.X?
r.publish("yt-remote-cast2-session-change",n.X):u&&r.X.V(null)):r.publish("yt-remote-cast2-session-change",null))},sdY=function(r,n){return n?g.bG(r.N,function(u){return Y1(n,u.label)},r):null},b1Y=function(r,n){r.X==n&&r.publish("yt-remote-cast2-session-failed")},KOl=function(r,n,u,O){O.disableCastApi?xv("Cannot initialize because disabled by Mdx config."):a$f()?U32(n,O)&&(Vf(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?cZV(r,u):(window.__onGCastApiAvailable=function(N,Z){N?cZV(r,u):(lg("Failed to load cast API: "+
Z),Qf(!1),Vf(!1),g.SY("yt-remote-cast-available"),g.SY("yt-remote-cast-receiver"),pFY(),u(!1))},O.loadCastApiSetupScript?g.Xw(Bkv):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?zR()>=60&&q8r():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?PS():zR()>=89?xz7():(b_(),s4(fHY.map(tWv))))):xv("Cannot initialize because not running Chrome")},pFY=function(){xv("dispose");
const r=SC();r&&r.dispose();g.zf("yt.mdx.remote.cloudview.instance_",null);RbG(!1);g.TI(oP);oP.length=0},L5=function(){return!!g.QL("yt-remote-cast-installed")},MTG=function(){const r=g.QL("yt-remote-cast-receiver");
return r?r.friendlyName:null},H1r=function(){xv("clearCurrentReceiver");
g.SY("yt-remote-cast-receiver")},D3h=function(){return L5()?SC()?SC().getCastSession():(lg("getCastSelector: Cast is not initialized."),null):(lg("getCastSelector: Cast API is not installed!"),null)},$v=function(){L5()?SC()?mz()?(xv("Requesting cast selector."),SC().requestSession()):(xv("Wait for cast API to be ready to request the session."),oP.push(g.w_("yt-remote-cast2-api-ready",$v))):lg("requestCastSelector: Cast is not initialized."):lg("requestCastSelector: Cast API is not installed!")},E1=
function(r,n){mz()?SC().setConnectedScreenStatus(r,n):lg("setConnectedScreenStatus called before ready.")},a$f=function(){var r=g.cg().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.Qu||r},v3Y=function(r,n){SC().init(r,n)},U32=function(r,n){let u=!1;
SC()||(r=new zD(r,n),r.subscribe("yt-remote-cast2-availability-change",function(O){g.lq("yt-remote-cast-available",O);E4("yt-remote-cast2-availability-change",O)}),r.subscribe("yt-remote-cast2-receiver-selected",function(O){xv("onReceiverSelected: "+O.friendlyName);
g.lq("yt-remote-cast-receiver",O);E4("yt-remote-cast2-receiver-selected",O)}),r.subscribe("yt-remote-cast2-receiver-resumed",function(O){xv("onReceiverResumed: "+O.friendlyName);
g.lq("yt-remote-cast-receiver",O);E4("yt-remote-cast2-receiver-resumed",O)}),r.subscribe("yt-remote-cast2-session-change",function(O){xv("onSessionChange: "+qy(O));
O||g.SY("yt-remote-cast-receiver");E4("yt-remote-cast2-session-change",O)}),g.zf("yt.mdx.remote.cloudview.instance_",r),u=!0);
xv("cloudview.createSingleton_: "+u);return u},SC=function(){return g.sx("yt.mdx.remote.cloudview.instance_")},cZV=function(r,n){Qf(!0);
Vf(!1);v3Y(r,function(u){u?(RbG(!0),g.tG("yt-remote-cast2-api-ready")):(lg("Failed to initialize cast API."),Qf(!1),g.SY("yt-remote-cast-available"),g.SY("yt-remote-cast-receiver"),pFY());n(u)})},xv=function(r){WL("cloudview",r)},lg=function(r){WL("cloudview",r)},Qf=function(r){xv("setCastInstalled_ "+r);
g.lq("yt-remote-cast-installed",r)},mz=function(){return!!g.sx("yt.mdx.remote.cloudview.apiReady_")},RbG=function(r){xv("setApiReady_ "+r);
g.zf("yt.mdx.remote.cloudview.apiReady_",r)},Vf=function(r){g.zf("yt.mdx.remote.cloudview.initializing_",r)},s1=function(r){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.G=this.V=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.N=this.B=this.C=0;this.X=NaN;this.Z=!1;this.reset(r)},Pk=function(r){r.audioTrackId=null;
r.trackData=null;r.playerState=-1;r.hasPrevious=!1;r.hasNext=!1;r.V=0;r.G=g.jm();r.C=0;r.B=0;r.N=0;r.loadedTime=0;r.X=NaN;r.Z=!1},bg=function(r){return r.isPlaying()?(g.jm()-r.G)/1E3:0},aP=function(r,n){r.V=n;
r.G=g.jm()},U1=function(r){switch(r.playerState){case 1:case 1081:return(g.jm()-r.G)/1E3+r.V;
case -1E3:return 0}return r.V},I$v=function(r){return r.Z?r.B+bg(r):r.B},ck=function(r,n,u){const O=r.videoId;
r.videoId=n;r.index=u;n!=O&&Pk(r)},p5=function(r){const n={};
n.index=r.index;n.listId=r.listId;n.videoId=r.videoId;n.playerState=r.playerState;n.volume=r.volume;n.muted=r.muted;n.audioTrackId=r.audioTrackId;n.trackData=g.VQ(r.trackData);n.hasPrevious=r.hasPrevious;n.hasNext=r.hasNext;n.playerTime=r.V;n.playerTimeAt=r.G;n.seekableStart=r.C;n.seekableEnd=r.B;n.duration=r.N;n.loadedTime=r.loadedTime;n.liveIngestionTime=r.X;return n},WOY=function(r){g.mV("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(n){this.B.push(this.Z.subscribe(n,g.JY(this.VK,n),this))},r)},Bk=function(r,n){r.C&&(r.C.removeUpdateListener(r.Y),r.C.removeMediaListener(r.S),r.V(null));
r.C=n;r.C&&(i4("Setting cast session: "+r.C.sessionId),r.C.addUpdateListener(r.Y),r.C.addMediaListener(r.S),r.C.media.length&&r.V(r.C.media[0]))},K5=function(r){return new s1(r.Z.getPlayerContextData())},RP=function(r){return r.getState()==1},Hk=function(r,n,u){return(0,g.Zh)(function(O){this.cg("Failed to "+n+" with cast v2 channel. Error code: "+O.code);
O.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.cg("Retrying "+n+" using MDx browser channel."),Ml(this,n,u))},r)},Ml=function(r,n,u){r.Z.sendMessage(n,u)},vk=function(r,n,u){const O=K5(r);
aP(O,u);O.playerState!=-1E3&&(O.playerState=n);Dy(r,O)},IP=function(r,n){var u=r.G;
u.X.length+u.C.length<50&&r.G.enqueue(n)},Dy=function(r,n){i1Y(r);
r.Z.setPlayerContextData(p5(n));WOY(r)},i1Y=function(r){g.mV(r.B,function(n){this.Z.unsubscribeByKey(n)},r);
r.B.length=0},g3m=function(r){const n=r.X.media,u=r.X.customData;
if(n&&u){var O=K5(r);n.contentId!=O.videoId&&i4("Cast changing video to: "+n.contentId);O.videoId=n.contentId;O.playerState=u.playerState;aP(O,r.X.getEstimatedTime());Dy(r,O)}else i4("No cast media video. Ignoring state update.")},FO2=function(r){Wk("Channel opened");
r.eS&&(r.eS=!1,ig(r),r.Zt=g.ri(()=>{Wk("Timing out waiting for a screen.");r.B(1)},15E3))},ZPa=function(r,n){n=n.message;
n.params?Wk("Received: action="+n.action+", params="+g.vF(n.params)):Wk("Received: action="+n.action+" {}");switch(n.action){case "loungeStatus":n=k1(n.params.devices);r.N=g.f2(n,function(O){return new tA(O)});
n=!!g.bG(r.N,function(O){return O.type=="LOUNGE_SCREEN"});
AZl(r,n);n=r.Io("mlm");r.publish("multiStateLoopEnabled",n);break;case "loungeScreenDisconnected":g.K2(r.N,function(O){return O.type=="LOUNGE_SCREEN"});
AZl(r,!1);break;case "remoteConnected":let u=new tA(k1(n.params.device));g.bG(r.N,function(O){return O.equals(u)})||HJl(r.N,u);
break;case "remoteDisconnected":u=new tA(k1(n.params.device));g.K2(r.N,function(O){return O.equals(u)});
break;case "gracefulDisconnect":break;case "playlistModified":yZN(r,n,"QUEUE_MODIFIED");break;case "nowPlaying":hba(r,n);break;case "onStateChange":d3a(r,n);break;case "onAdStateChange":eb7(r,n);break;case "onVolumeChanged":Cda(r,n);break;case "onSubtitlesTrackChanged":rka(r,n);break;case "nowAutoplaying":nCv(r,n);break;case "autoplayDismissed":r.publish("autoplayDismissed");break;case "autoplayUpNext":u72(r,n);break;case "onAutoplayModeChanged":OPZ(r,n);break;case "onHasPreviousNextChanged":N0V(r,
n);break;case "requestAssistedSignIn":r.publish("assistedSignInRequested",n.params.authCode);break;case "onLoopModeChanged":r.publish("loopModeChange",n.params.loopMode);break;default:Wk("Unrecognized action: "+n.action)}},Wk=function(r){WL("conn",r)},Jkr=function(r){r.V=g.ri(()=>{Wk("Connecting timeout");
r.B(1)},2E4)},gI=function(r,n){r.publish("proxyStateChange",n)},FW=function(r){g.uV(r.V);
r.V=NaN},AP=function(r){g.uV(r.CT);
r.CT=NaN},ig=function(r){g.uV(r.Zt);
r.Zt=NaN},jOY=function(r){return g.bG(r.N,function(n){return n.type=="LOUNGE_SCREEN"})},yf=function(r,n,u){u?Wk("Sending: action="+n+", params="+g.vF(u)):Wk("Sending: action="+n);
r.C.sendMessage(n,u)},kma=function(r){AP(r);
r.CT=g.ri(()=>{yf(r,"getNowPlaying")},2E4)},Gma=function(r){g.uV(r.Y);
r.Y=g.ri(()=>{r.B(1)},864E5)},AZl=function(r,n){var u=null;
if(n){const O=jOY(r);O&&(u={clientName:O.clientName,deviceMake:O.brand,deviceModel:O.model,osVersion:O.osVersion})}g.zf("yt.mdx.remote.remoteClient_",u);n&&(FW(r),ig(r));u=r.C.Uy()&&isNaN(r.V);n==u?n&&(gI(r,1),yf(r,"getSubtitlesTrack")):n?(r.w9()&&r.X.reset(),gI(r,1),yf(r,"getNowPlaying"),Gma(r)):r.B(1)},rka=function(r,n){const u=n.params.videoId;
delete n.params.videoId;u==r.X.videoId&&(g.X0(n.params)?r.X.trackData=null:r.X.trackData=n.params,r.publish("remotePlayerChange"))},yZN=function(r,n,u){const O=n.params.videoId||n.params.video_id,N=parseInt(n.params.currentIndex,10);
r.X.listId=n.params.listId||r.X.listId;ck(r.X,O,N);r.publish("remoteQueueChange",u)},d3a=function(r,n){var u=parseInt(n.params.currentTime||n.params.current_time,10);
aP(r.X,isNaN(u)?0:u);u=parseInt(n.params.state,10);u=isNaN(u)?-1:u;u==-1&&r.X.playerState==-1E3&&(u=-1E3);r.X.playerState=u;u=Number(n.params.loadedTime);r.X.loadedTime=isNaN(u)?0:u;r.X.Tx(Number(n.params.duration));u=r.X;var O=Number(n.params.liveIngestionTime);u.X=O;u.Z=isNaN(O)?!1:!0;u=r.X;O=Number(n.params.seekableStartTime);n=Number(n.params.seekableEndTime);u.C=isNaN(O)?0:O;u.B=isNaN(n)?0:n;r.X.playerState==1?kma(r):AP(r);r.publish("remotePlayerChange")},hba=function(r,n){n.params=n.params||
{};
yZN(r,n,"NOW_PLAYING_MAY_CHANGE");d3a(r,n);r.publish("autoplayDismissed")},eb7=function(r,n){if(r.X.playerState!=-1E3){var u=1085;
switch(parseInt(n.params.adState,10)){case 1:u=1081;break;case 2:u=1084;break;case 0:u=1083}r.X.playerState=u;n=parseInt(n.params.currentTime,10);aP(r.X,isNaN(n)?0:n);r.publish("remotePlayerChange")}},Cda=function(r,n){const u=n.params.muted=="true";
r.X.volume=parseInt(n.params.volume,10);r.X.muted=u;r.publish("remotePlayerChange")},nCv=function(r,n){r.A=n.params.videoId;
r.publish("nowAutoplaying",parseInt(n.params.timeout,10))},u72=function(r,n){r.A=n.params.videoId||null;
r.publish("autoplayUpNext",r.A)},OPZ=function(r,n){r.G=n.params.autoplayMode;
r.publish("autoplayModeChange",r.G);r.G=="DISABLED"&&r.publish("autoplayDismissed")},N0V=function(r,n){const u=n.params.hasNext=="true";
r.X.hasPrevious=n.params.hasPrevious=="true";r.X.hasNext=u;r.publish("previousNextChange")},XhV=function(r,n){j$G();
if(!$1||!$1.get("yt-remote-disable-remote-module-for-dev")){n=g.K("MDX_CONFIG")||n;r17();LE();hP||(hP=new HL(n?n.loungeApiHost:void 0),k5l()&&(hP.X="/api/loungedev"));dI||(dI=g.sx("yt.mdx.remote.deferredProxies_")||[],g.zf("yt.mdx.remote.deferredProxies_",dI));whm();var u=eC();if(!u){const N=new O1(hP,n?n.disableAutomaticScreenCache||!1:!1);g.zf("yt.mdx.remote.screenService_",N);u=eC();var O={};n&&(O={appId:n.appId,disableDial:n.disableDial,theme:n.theme,loadCastApiSetupScript:n.loadCastApiSetupScript,
disableCastApi:n.disableCastApi,enableDialLoungeToken:n.enableDialLoungeToken,enableCastLoungeToken:n.enableCastLoungeToken,forceMirroring:n.forceMirroring});g.zf("yt.mdx.remote.enableConnectWithInitialState_",n?n.enableConnectWithInitialState||!1:!1);KOl(r,N,function(Z){Z?C5()&&E1(C5(),"YouTube TV"):N.subscribe("onlineScreenChange",function(){E4("yt-remote-receiver-availability-change")})},O)}n&&!g.sx("yt.mdx.remote.initialized_")&&(g.zf("yt.mdx.remote.initialized_",!0),rE("Initializing: "+g.vF(n)),
n6.push(g.w_("yt-remote-cast2-api-ready",function(){E4("yt-remote-api-ready")})),n6.push(g.w_("yt-remote-cast2-availability-change",function(){E4("yt-remote-receiver-availability-change")})),n6.push(g.w_("yt-remote-cast2-receiver-selected",function(){un(null);
E4("yt-remote-auto-connect","cast-selector-receiver")})),n6.push(g.w_("yt-remote-cast2-receiver-resumed",function(){E4("yt-remote-receiver-resumed","cast-selector-receiver")})),n6.push(g.w_("yt-remote-cast2-session-change",T0m)),n6.push(g.w_("yt-remote-connection-change",function(N){N?E1(C5(),"YouTube TV"):OY()||(E1(null,null),H1r())})),n6.push(g.w_("yt-remote-cast2-session-failed",()=>{E4("yt-remote-connection-failed")})),r=Nj(),n.isAuto&&(r.id+="#dial"),O=n.capabilities||[],O.length>0&&(r.capabilities=
O),r.name=n.device,r.app=n.app,(n=n.theme)&&(r.theme=n),rE(" -- with channel params: "+g.vF(r)),r?(g.lq("yt-remote-session-app",r.app),g.lq("yt-remote-session-name",r.name)):(g.SY("yt-remote-session-app"),g.SY("yt-remote-session-name")),g.zf("yt.mdx.remote.channelParams_",r),u.start(),C5()||tkh())}},YfY=function(){var r=eC().CC.$_gos();
const n=ZQ();n&&Jt()&&(VJ(r,n)||r.push(n));return CIl(r)},j0=function(){let r=qfV();
!r&&L5()&&MTG()&&(r={key:"cast-selector-receiver",name:MTG()});return r},qfV=function(){const r=YfY();
let n=ZQ();n||(n=OY());return g.bG(r,function(u){return n&&Y1(n,u.key)?!0:!1})},ZQ=function(){const r=C5();
if(!r)return null;const n=eC().OL();return l_(n,r)},T0m=function(r){rE("remote.onCastSessionChange_: "+qy(r));
if(r){var n=ZQ();if(n&&n.id==r.id){if(E1(n.id,"YouTube TV"),r.idType=="shortLived"&&(r=r.token))kP&&(kP.token=r),(n=Jt())&&n.Mh(r)}else n&&GF(),wE(r,1)}else Jt()&&GF()},GF=function(){mz()?SC().stopSession():lg("stopSession called before API ready.");
const r=Jt();r&&(r.disconnect(1),TF(null))},tt=function(){const r=Jt();
return!!r&&r.getProxyState()!=3},rE=function(r){WL("remote",r)},eC=function(){if(!X6){const r=g.sx("yt.mdx.remote.screenService_");
X6=r?new f7G(r):null}return X6},C5=function(){return g.sx("yt.mdx.remote.currentScreenId_")},xXr=function(r){g.zf("yt.mdx.remote.currentScreenId_",r)},Vkv=function(){return g.sx("yt.mdx.remote.connectData_")},un=function(r){g.zf("yt.mdx.remote.connectData_",r)},Jt=function(){return g.sx("yt.mdx.remote.connection_")},TF=function(r){const n=Jt();
un(null);r||xXr("");g.zf("yt.mdx.remote.connection_",r);dI&&(g.mV(dI,function(u){u(r)}),dI.length=0);
n&&!r?E4("yt-remote-connection-change",!1):!n&&r&&E4("yt-remote-connection-change",!0)},OY=function(){const r=g.oQ();
if(!r)return null;var n=eC();if(!n)return null;n=n.OL();return l_(n,r)},wE=function(r,n){C5();
ZQ()&&ZQ();if(YP)kP=r;else{xXr(r.id);var u=g.sx("yt.mdx.remote.enableConnectWithInitialState_")||!1;r=new qj(r,u);r.connect(n,Vkv());r.subscribe("beforeDisconnect",function(O){E4("yt-remote-before-disconnect",O)});
r.subscribe("beforeDispose",function(){Jt()&&(Jt(),TF(null))});
r.subscribe("browserChannelAuthError",()=>{const O=ZQ();O&&O.idType=="shortLived"&&(mz()?SC().handleBrowserChannelAuthError():lg("refreshLoungeToken called before API ready."))});
TF(r)}},tkh=function(){const r=OY();
r?(rE("Resume connection to: "+qy(r)),wE(r,0)):(mQ(),H1r(),rE("Skipping connecting because no session screen found."))},whm=function(){var r=Nj();
if(g.X0(r)){r=oD();var n=g.QL("yt-remote-session-name")||"";const u=g.QL("yt-remote-session-app")||"";r={device:"REMOTE_CONTROL",id:r,name:n,app:u,mdxVersion:3};r.authuser=String(g.K("SESSION_INDEX","0"));(n=g.K("DELEGATED_SESSION_ID"))&&(r.pageId=String(n));g.zf("yt.mdx.remote.channelParams_",r)}},Nj=function(){return g.sx("yt.mdx.remote.channelParams_")||{}},l77=function(r,n){if(f6(r)){r.f_.unsubscribe("remotePlayerChange",r.G,r);
const u=Math.round(n.volume);n=!!n.muted;const O=K5(r.f_);if(u!==O.volume||n!==O.muted)r.f_.setVolume(u,n),r.Y.start();r.f_.subscribe("remotePlayerChange",r.G,r)}},f6=function(r){return K5(r.f_).videoId===xP(r).videoId},Vl=function(r,n){let u,O;
var N=r.O.getPlaylist();N?.listId&&(u=N.index,O=N.listId.toString());N=xP(r);r.f_.playVideo(N.videoId,n,u,O,N.playerParams,N.Y,MIG(N));r.XZ(new g.xk(1))},ln=function(r,n){if(f6(r)&&!r.V){let u=null;
n&&(u={style:r.O.getSubtitlesUserSettings()},Object.assign(u,n));r.f_.A(xP(r).videoId,u);r.Z=K5(r.f_).trackData}},QOG=function(r,n){if(n){const u=r.O.getOption("captions","tracklist",{qY:1});
u&&u.length?(r.O.setOption("captions","track",n),r.V=!1):(r.O.loadModule("captions"),r.V=!0)}else r.O.setOption("captions","track",{})},Sfa=function(r){r.wf(0);
r.C.stop();r.XZ(new g.xk(64))},xP=function(r){return r.O.getVideoData({playerType:1})},oCZ=function(r){const n=r.player.L();
return!n.K("mdx_enable_privacy_disclosure_ui")||r.isLoggedIn()||r.eE||!r.gq?!1:g.Fa(n)||g.Kx(n)},LTY=function(r,n,u){r.h2=u;
r.player.publish("presentingplayerstatechange",new g.zy(u,n))},Ql=function(r,n,...u){r.loaded&&r.nQ.Oq(n,...u)},S0=function(r){r.gb&&(r.player.removeEventListener("presentingplayerstatechange",r.gb),r.gb=null)},oo=function(r,n){if(n.key!==r.wL.key)if(n.key===r.Al.key)GF();
else if(oCZ(r)&&mXY(r),r.wL=n,!g.Cz(r.player.L())){{const Z=r.player.getPlaylistId();var u=r.player.getVideoData({playerType:1});const J=u.videoId;if(!Z&&!J||(r.player.getAppState()===2||r.player.getAppState()===1)&&r.player.L().K("should_clear_video_data_on_player_cued_unstarted"))u=null;else{var O=r.player.getPlaylist();if(O){var N=[];for(let k=0;k<O.length;k++)N[k]=g.Hx(O,k).videoId}else N=[J];O=r.player.getCurrentTime(1);r={videoIds:N,listId:Z,videoId:J,playerParams:u.playerParams,clickTrackingParams:u.Y,
index:Math.max(r.player.getPlaylistIndex(),0),currentTime:O===0?void 0:O};(u=MIG(u))&&(r.locationInfo=u);u=r}}rE("Connecting to: "+g.vF(n));n.key=="cast-selector-receiver"?(un(u||null),n=u||null,mz()?SC().setLaunchParams(n):lg("setLaunchParams called before ready.")):!u&&tt()&&C5()==n.key?E4("yt-remote-connection-change",!0):(GF(),un(u||null),u=eC().OL(),(n=l_(u,n.key))&&wE(n,1))}},mXY=function(r){r.player.getPlayerStateObject().isPlaying()?r.player.pauseVideo():(r.gb=n=>{!r.eE&&n.Yk(8)&&(r.player.pauseVideo(),
S0(r))},r.player.addEventListener("presentingplayerstatechange",r.gb));
r.gq&&r.gq.Mu();Jt()||(YP=!0)};
g.xo.prototype.zz=g.fr(46,function(){this.app.Mq().zz()});
g.rw.prototype.zz=g.fr(45,function(){this.MN=null});
g.xo.prototype.fE=g.fr(44,function(r){this.app.Mq().fE(r)});
g.rw.prototype.fE=g.fr(43,function(r){this.MN=r});
g.wH.prototype.X2=g.fr(1,function(){return g.$y(this,3)});
g.T_.prototype.X2=g.fr(0,function(){return g.$y(this,11)});
var s87=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/channel/opened",g.y3("channel_type"))}X(r){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/channel/opened",r)}},PrY=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/channel/closed",g.y3("channel_type"))}X(r){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/channel/closed",r)}},aCa=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.y3("channel_type"))}X(r){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/channel/message_received",r)}},bUm=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/channel/success")}X(){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/channel/success")}},UBY=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/channel/error",g.y3("channel_type"),g.y3("error_type"))}X(r,n){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/channel/error",
r,n)}},cLf=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}X(){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},pc7=class{constructor(){var r=g.um();this.C=r;g.UH(r,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}X(){g.p1(this.C,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.L=wT.prototype;
g.L.Uq=function(){TR(this);const r=[];for(let n=0;n<this.X.length;n++)r.push(this.C[this.X[n]]);return r};
g.L.pQ=function(){TR(this);return this.X.concat()};
g.L.has=function(r){return GR(this.C,r)};
g.L.equals=function(r,n){if(this===r)return!0;if(this.size!=r.size)return!1;n=n||WJV;TR(this);let u;for(let O=0;u=this.X[O];O++)if(!n(this.get(u),r.get(u)))return!1;return!0};
g.L.isEmpty=function(){return this.size==0};
g.L.clear=function(){this.C={};this.Gr=this.size=this.X.length=0};
g.L.remove=function(r){return this.delete(r)};
g.L.delete=function(r){return GR(this.C,r)?(delete this.C[r],--this.size,this.Gr++,this.X.length>2*this.size&&TR(this),!0):!1};
g.L.get=function(r,n){return GR(this.C,r)?this.C[r]:n};
g.L.set=function(r,n){GR(this.C,r)||(this.size+=1,this.X.push(r),this.Gr++);this.C[r]=n};
g.L.forEach=function(r,n){const u=this.pQ();for(let O=0;O<u.length;O++){const N=u[O],Z=this.get(N);r.call(n,Z,N,this)}};
g.L.clone=function(){return new wT(this)};
g.L.keys=function(){return g.ML(this.oA(!0)).X()};
g.L.values=function(){return g.ML(this.oA(!1)).X()};
g.L.entries=function(){const r=this;return IrY(this.keys(),function(n){return[n,r.get(n)]})};
g.L.oA=function(r){TR(this);let n=0;const u=this.Gr,O=this,N=new g.DG;N.next=function(){if(u!=O.Gr)throw Error("The map has changed since the iterator was created");if(n>=O.X.length)return g.rH;const Z=O.X[n++];return g.va(r?Z:O.C[Z])};
return N};
var Ai7={o0:"atp",ltP:"ska",U11:"que",Sl:"mus",Rnv:"sus",x6:"dsp",L1P:"seq",jl:"mic",um:"dpa",Jj:"mlm",FV:"dsdtr",NK:"ntb",hfo:"vsp",AC:"scn",OTP:"rpe",Cg:"dcn",N2:"dcp",W8:"pas",Za:"drq",Gu:"opf",Iy:"els",Da:"isg",soP:"svq",lB:"mvp",lk:"ads",NJv:"stcp",jov:"sads",xs:"dloc",pg:"dcw",Y9:"asw",Si:"apw",i5:"wrc",v8:"pcw",C$:"ipv",ud:"ndt",sJ:"ctops",iA:"gsrm"},yi2={Q16:"u",AA:"cl",uB:"k",Ms:"i",R0:"cr",Y_:"m",vr:"g",rV:"up"},Kn2={Z7:"nowPlaying",Oc:"onStateChange",Fc:"adPlaying",Uc:"onAdStateChange",
Fy:"nowPlayingShorts",bd:"onShortsStateChange"};tA.prototype.equals=function(r){return r?this.id==r.id:!1};
var SE="",$1=null,Y8Z=G5N("loadCastFramework")||G5N("loadCastApplicationFramework"),fHY=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.w7(aD,g.Se);g.L=aD.prototype;g.L.IX=function(r){this.Z=arguments;this.X=!1;this.HI?this.N=g.jm()+this.XW:this.HI=g.z$(this.G,this.XW)};
g.L.stop=function(){this.HI&&(g.Ex.clearTimeout(this.HI),this.HI=null);this.N=null;this.X=!1;this.Z=[]};
g.L.pause=function(){++this.C};
g.L.resume=function(){this.C&&(--this.C,!this.C&&this.X&&(this.X=!1,this.V.apply(null,this.Z)))};
g.L.xY=function(){this.stop();aD.Pw.xY.call(this)};
g.L.AT=function(){this.HI&&(g.Ex.clearTimeout(this.HI),this.HI=null);this.N?(this.HI=g.z$(this.G,this.N-g.jm()),this.N=null):this.C?this.X=!0:(this.X=!1,this.V.apply(null,this.Z))};var cS=null;U4.prototype.set=function(r){this.X=r};
U4.prototype.reset=function(){this.set(g.jm())};
U4.prototype.get=function(){return this.X};g.w7(lHN,VWG);var Jx=class{stringify(r){return g.Ex.JSON.stringify(r,void 0)}parse(r){return g.Ex.JSON.parse(r,void 0)}};g.w7(pE,g.sF);g.w7(BS,g.sF);var Q$Z=null;g.w7(S8f,g.sF);g.w7(or7,g.sF);g.w7(LyY,g.sF);D6.prototype.debug=function(){};
D6.prototype.info=function(){};
D6.prototype.warning=function(){};var PHa={},Fr={};g.L=vS.prototype;g.L.setTimeout=function(r){this.W_=r};
g.L.Wa=function(r){r=r.target;const n=this.w9;n&&g.r0(r)==3?n.Z():this.oz(r)};
g.L.oz=function(r){try{if(r==this.X)a:{const N=g.r0(this.X),Z=this.X.C,J=this.X.getStatus();if(!(N<3)&&(N!=3||this.X&&(this.C.C||g.Of(this.X)||g.NX(this.X)))){this.eS||N!=4||Z==7||(Z==8||J<=0?RD(3):RD(2));AA(this);var n=this.X.getStatus();this.jS=n;var u=s$Z(this);if(this.V=n==200){if(this.ao&&!this.VK){b:{if(this.X){const k=g.Jk(this.X,"X-HTTP-Initial-Response");if(k&&!g.zB(k)){var O=k;break b}}O=null}if(r=O)this.VK=!0,OW(this,r);else{this.V=!1;this.G=3;My(12);i_(this);gT(this);break a}}if(this.Zt){r=
!0;let k;for(;!this.eS&&this.B<u.length;)if(k=bim(this,u),k==Fr){N==4&&(this.G=4,My(14),r=!1);break}else if(k==PHa){this.G=4;My(15);r=!1;break}else OW(this,k);zpY(this)&&this.B!=0&&(this.C.X=this.C.X.slice(this.B),this.B=0);N!=4||u.length!=0||this.C.C||(this.G=1,My(16),r=!1);this.V=this.V&&r;r?u.length>0&&!this.yK&&(this.yK=!0,this.N.GJ(this)):(i_(this),gT(this))}else OW(this,u);N==4&&i_(this);this.V&&!this.eS&&(N==4?UzG(this.N,this):(this.V=!1,WS(this)))}else g.Z7(this.X),n==400&&u.indexOf("Unknown SID")>
0?(this.G=3,My(12)):(this.G=0,My(13)),i_(this),gT(this)}}}catch(N){}finally{}};
g.L.cancel=function(){this.eS=!0;i_(this)};
g.L.z7=function(){this.q1=null;const r=Date.now();r-this.d9>=0?(this.pT!=2&&(RD(3),My(17)),i_(this),this.G=2,gT(this)):aHm(this,this.d9-r)};
g.L.getLastError=function(){return this.G};
g.L.Iw=function(){return this.X};var $Xh=class{constructor(r,n){this.X=r;this.map=n;this.context=null}};Ky7.prototype.cancel=function(){this.N=Nk(this);if(this.C)this.C.cancel(),this.C=null;else if(this.X&&this.X.size!==0){for(const r of this.X.values())r.cancel();this.X.clear()}};g.L=vrV.prototype;g.L.C4=8;g.L.v4=1;g.L.connect=function(r,n,u,O){My(0);this.K_=r;this.eS=n||{};u&&O!==void 0&&(this.eS.OSID=u,this.eS.OAID=O);this.w9=this.p_;this.r9=c1r(this,null,this.K_);u4(this)};
g.L.disconnect=function(){IHY(this);if(this.v4==3){var r=this.Io++,n=this.r9.clone();g.QX(n,"SID",this.Z);g.QX(n,"RID",r);g.QX(n,"TYPE","terminate");Gv(this,n);r=new vS(this,this.Z,r);r.pT=2;r.A=Z6(n.clone());n=!1;if(g.Ex.navigator&&g.Ex.navigator.sendBeacon)try{n=g.Ex.navigator.sendBeacon(r.A.toString(),"")}catch{}!n&&g.Ex.Image&&((new Image).src=r.A,n=!0);n||(r.X=ErY(r.N,null),r.X.send(r.A));r.oo=Date.now();WS(r)}y1N(this)};
g.L.Lh=function(){return this.v4==0};
g.L.getState=function(){return this.v4};
g.L.xF=function(r){if(this.V)if(this.V=null,this.v4==1){if(!r){this.Io=Math.floor(Math.random()*1E5);r=this.Io++;const N=new vS(this,"",r);let Z=this.S;this.ao&&(Z?(Z=g.x8(Z),g.QQ(Z,this.ao)):Z=this.ao);this.B!==null||this.d9||(N.r9=Z,Z=null);if(this.TP)a:{var n=0;for(var u=0;u<this.N.length;u++){b:{var O=this.N[u];if("__data__"in O.map&&(O=O.map.__data__,typeof O==="string")){O=O.length;break b}O=void 0}if(O===void 0)break;n+=O;if(n>4096){n=u;break a}if(n===4096||u===this.N.length-1){n=u+1;break a}}n=
this.L_}else n=this.L_;n=grr(this,N,n);u=this.r9.clone();g.QX(u,"RID",r);g.QX(u,"CVER",22);this.Zt&&g.QX(u,"X-HTTP-Session-Id",this.Zt);Gv(this,u);Z&&(this.d9?n="headers="+g.U9(g.$a(Z))+"&"+n:this.B&&g.Ec(u,this.B,Z));nS(this.C,N);this.PS&&g.QX(u,"TYPE","init");this.TP?(g.QX(u,"$req",n),g.QX(u,"SID","null"),N.ao=!0,ID(N,u,null)):ID(N,u,n);this.v4=2}}else this.v4==3&&(r?FyN(this,r):this.N.length==0||Rpm(this.C)||FyN(this))};
g.L.Ny=function(){this.A=null;A1h(this);if(this.bW&&!(this.W_||this.X==null||this.zc<=0)){var r=4*this.zc;this.CT=HS((0,g.Zh)(this.Z1,this),r)}};
g.L.Z1=function(){this.CT&&(this.CT=null,this.w9=!1,this.W_=!0,My(10),dT(this),A1h(this))};
g.L.GJ=function(r){this.X==r&&this.bW&&!this.W_&&(kc(this),this.W_=!0,My(11))};
g.L.Ee=function(){this.q1!=null&&(this.q1=null,dT(this),eE(this),My(19))};
g.L.Zd=function(r){r?My(2):My(1)};
g.L.isActive=function(){return!!this.G&&this.G.isActive(this)};
g.L=dzY.prototype;g.L.ef=function(){};
g.L.u2=function(){};
g.L.FD=function(){};
g.L.Zq=function(){};
g.L.isActive=function(){return!0};
g.L.MP=function(){};g.w7(Tv,g.y1);Tv.prototype.open=function(){this.X.G=this.N;this.B&&(this.X.VK=!0);this.X.connect(this.V,this.C||void 0)};
Tv.prototype.close=function(){this.X.disconnect()};
Tv.prototype.send=function(r){var n=this.X;if(typeof r==="string"){var u={};u.__data__=r;r=u}else this.G&&(u={},u.__data__=g.vF(r),r=u);n.N.push(new $Xh(n.NF++,r));n.v4==3&&u4(n)};
Tv.prototype.xY=function(){this.X.G=null;delete this.N;this.X.disconnect();delete this.X;Tv.Pw.xY.call(this)};
g.w7(CHN,pE);g.w7(rLv,BS);g.w7(wj,dzY);wj.prototype.ef=function(){this.X.dispatchEvent("m")};
wj.prototype.u2=function(r){this.X.dispatchEvent(new CHN(r))};
wj.prototype.FD=function(r){this.X.dispatchEvent(new rLv(r))};
wj.prototype.Zq=function(){this.X.dispatchEvent("n")};
Tv.prototype.Z=function(){return new tx(this,this.X)};
tx.prototype.C=function(){return CE(this.X.C)};
tx.prototype.N=function(){return hpV(this.X).map(r=>{var n=this.Z;r=r.map;"__data__"in r?(r=r.__data__,n=n.G?D$7(r):r):n=r;return n})};
tx.prototype.commit=function(r){this.X.jS=r};var Yc=new g.y1,nWZ=class extends g.sF{constructor(){super("statevent",Yc)}};g.L=fS.prototype;g.L.Bu=null;g.L.lU=!1;g.L.fW=null;g.L.rM=null;g.L.rI=null;g.L.qc=null;g.L.ez=null;g.L.Xe=null;g.L.Di=null;g.L.BL=null;g.L.cR=0;g.L.Ox=null;g.L.o2=null;g.L.v9=null;g.L.GU=-1;g.L.Uk=!0;g.L.pY=!1;g.L.GF=0;g.L.YO=null;var N2V={},l4={};g.L=fS.prototype;g.L.setTimeout=function(r){this.C=r};
g.L.Lm=function(r){r=r.target;const n=this.YO;n&&g.r0(r)==3?n.Z():this.G1(r)};
g.L.G1=function(r){try{if(r==this.BL)a:{const n=g.r0(this.BL),u=this.BL.C,O=this.BL.getStatus();if(g.Pb&&!g.OG("420+")){if(n<4)break a}else if(n<3||n==3&&!g.Of(this.BL))break a;this.pY||n!=4||u==7||(u==8||O<=0?this.X.ZE(3):this.X.ZE(2));j8Z(this);const N=this.BL.getStatus();this.GU=N;const Z=g.Of(this.BL);if(this.lU=N==200){n==4&&Sb(this);if(this.Zt){for(r=!0;!this.pY&&this.cR<Z.length;){const J=ZU7(this,Z);if(J==l4){n==4&&(this.v9=4,qk(),r=!1);break}else if(J==N2V){this.v9=4;qk();r=!1;break}else kzY(this,
J)}n==4&&Z.length==0&&(this.v9=1,qk(),r=!1);this.lU=this.lU&&r;r||(Sb(this),QZ(this))}else kzY(this,Z);this.lU&&!this.pY&&(n==4?this.X.OF(this):(this.lU=!1,VZ(this)))}else this.v9=N==400&&Z.indexOf("Unknown SID")>0?3:0,qk(),Sb(this),QZ(this)}}catch(n){}finally{}};
g.L.cancel=function(){this.pY=!0;Sb(this)};
g.L.mZ=function(){this.fW=null;const r=Date.now();r-this.rM>=0?(this.qc!=2&&this.X.ZE(3),Sb(this),this.v9=2,qk(),QZ(this)):JLv(this,this.rM-r)};
g.L.getLastError=function(){return this.v9};g.L=T27.prototype;g.L.bL=null;g.L.qV=null;g.L.Wb=!1;g.L.V9=null;g.L.iG=null;g.L.eX=-1;g.L.CM=null;g.L.Hm=null;g.L.connect=function(r){this.V9=r;r=LS(this.X,null,this.V9);qk();Date.now();const n=this.X.S;n!=null?(this.CM=n[0],(this.Hm=n[1])?(this.iG=1,tMN(this)):(this.iG=2,$c(this))):(JA(r,"MODE","init"),this.qV=new fS(this),this.qV.Bu=this.bL,xc(this.qV,r,!1,null,!0),this.iG=0)};
g.L.iS=function(r){if(r)this.iG=2,$c(this);else{qk();var n=this.X;n.yS=n.O_.eX;cL(n,9)}r&&this.ZE(2)};
g.L.UF=function(r){return this.X.UF(r)};
g.L.abort=function(){this.qV&&(this.qV.cancel(),this.qV=null);this.eX=-1};
g.L.Lh=function(){return!1};
g.L.rd=function(r,n){this.eX=r.GU;if(this.iG==0)if(n){try{var u=this.C.parse(n)}catch(O){r=this.X;r.yS=this.eX;cL(r,2);return}this.CM=u[0];this.Hm=u[1]}else r=this.X,r.yS=this.eX,cL(r,2);else this.iG==2&&(this.Wb?(qk(),Date.now()):n=="11111"?(qk(),this.Wb=!0,Date.now(),this.eX=200,this.qV.cancel(),qk(),mY(this.X,this,!0)):(qk(),Date.now(),this.Wb=!1))};
g.L.OF=function(){this.eX=this.qV.GU;if(this.qV.lU)this.iG==0?this.Hm?(this.iG=1,tMN(this)):(this.iG=2,$c(this)):this.iG==2&&(this.Wb?(qk(),mY(this.X,this,!0)):(qk(),mY(this.X,this,!1)));else{this.iG==0?qk():this.iG==2&&qk();var r=this.X;this.qV.getLastError();r.yS=this.eX;cL(r,2)}};
g.L.U7=function(){return this.X.U7()};
g.L.isActive=function(){return this.X.isActive()};
g.L.ZE=function(r){this.X.ZE(r)};g.L=EW.prototype;g.L.Xx=null;g.L.bF=null;g.L.Od=null;g.L.aH=null;g.L.tR=null;g.L.Nc=null;g.L.U3=null;g.L.wM=null;g.L.O7=0;g.L.Ha=0;g.L.fC=null;g.L.SG=null;g.L.p9=null;g.L.AK=null;g.L.O_=null;g.L.d4=null;g.L.S_=-1;g.L.b2=-1;g.L.yS=-1;g.L.lR=0;g.L.Jd=0;g.L.IV=8;var ECG={OK:0,B9P:2,mS:4,gA:5,H_S:6,STOP:7,SQ:8,F_:9,N7:10,Zx:11,Xc:12};g.w7(YFm,g.sF);g.w7(qFf,g.sF);g.L=EW.prototype;
g.L.connect=function(r,n,u,O,N){qk();this.tR=n;this.bF=u||{};O&&N!==void 0&&(this.bF.OSID=O,this.bF.OAID=N);this.A?(X_((0,g.Zh)(this.Kk,this,r),100),fCv(this)):this.Kk(r)};
g.L.disconnect=function(){xBN(this);if(this.X==3){var r=this.O7++;const n=this.Nc.clone();g.QX(n,"SID",this.Z);g.QX(n,"RID",r);g.QX(n,"TYPE","terminate");aZ(this,n);r=new fS(this,this.Z,r);r.qc=2;r.ez=Z6(n.clone());(new Image).src=r.ez.toString();r.rI=Date.now();VZ(r)}mBY(this)};
g.L.Kk=function(r){this.O_=new T27(this);this.O_.bL=this.Xx;this.O_.C=this.G;this.O_.connect(r)};
g.L.Lh=function(){return this.X==0};
g.L.getState=function(){return this.X};
g.L.VU=function(r){this.SG=null;Q8G(this,r)};
g.L.O3=function(){this.p9=null;this.aH=new fS(this,this.Z,"rpc",this.B);this.aH.Bu=this.Xx;this.aH.GF=0;var r=this.U3.clone();g.QX(r,"RID","rpc");g.QX(r,"SID",this.Z);g.QX(r,"CI",this.d4?"0":"1");g.QX(r,"AID",this.S_);aZ(this,r);g.QX(r,"TYPE","xmlhttp");xc(this.aH,r,!0,this.wM,!1)};
g.L.rd=function(r,n){if(this.X!=0&&(this.aH==r||this.Od==r))if(this.yS=r.GU,this.Od==r&&this.X==3)if(this.IV>7){try{var u=this.G.parse(n)}catch(O){u=null}if(Array.isArray(u)&&u.length==3)if(r=u,r[0]==0)a:{if(!this.p9){if(this.aH)if(this.aH.rI+3E3<this.Od.rI)sW(this),this.aH.cancel(),this.aH=null;else break a;UW(this);qk()}}else this.b2=r[1],0<this.b2-this.S_&&r[2]<37500&&this.d4&&this.Jd==0&&!this.AK&&(this.AK=X_((0,g.Zh)(this.QX,this),6E3));else cL(this,11)}else n!="y2f%"&&cL(this,11);else if(this.aH==
r&&sW(this),!g.zB(n))for(r=this.G.parse(n),n=0;n<r.length;n++)u=r[n],this.S_=u[0],u=u[1],this.X==2?u[0]=="c"?(this.Z=u[1],this.wM=u[2],u=u[3],u!=null?this.IV=u:this.IV=6,this.X=3,this.fC&&this.fC.Bv(),this.U3=LS(this,this.U7()?this.wM:null,this.tR),SFh(this)):u[0]=="stop"&&cL(this,7):this.X==3&&(u[0]=="stop"?cL(this,7):u[0]!="noop"&&this.fC&&this.fC.K4(u),this.Jd=0)};
g.L.QX=function(){this.AK!=null&&(this.AK=null,this.aH.cancel(),this.aH=null,UW(this),qk())};
g.L.OF=function(r){if(this.aH==r){sW(this);this.aH=null;var n=2}else if(this.Od==r)this.Od=null,n=1;else return;this.yS=r.GU;if(this.X!=0)if(r.lU)if(n==1){n=r.Di?r.Di.length:0;r=Date.now()-r.rI;var u=Yc;u.dispatchEvent(new YFm(u,n,r,this.lR));zv(this);this.fC&&this.fC.Dq(this,this.N);this.N.length=0}else SFh(this);else{u=r.getLastError();var O;if(!(O=u==3||u==7||u==0&&this.yS>0)){if(O=n==1)this.Od||this.SG||this.X==1||this.lR>=2?O=!1:(this.SG=X_((0,g.Zh)(this.VU,this,r),oWZ(this,this.lR)),this.lR++,
O=!0);O=!(O||n==2&&UW(this))}if(O)switch(u){case 1:cL(this,5);break;case 4:cL(this,10);break;case 3:cL(this,6);break;case 7:cL(this,12);break;default:cL(this,2)}}};
g.L.kf=function(r){if(!g.Uv(arguments,this.X))throw Error("Unexpected channel state: "+this.X);};
g.L.x9=function(r){r?qk():(qk(),Lnf(this,8))};
g.L.UF=function(r){if(r)throw Error("Can't create secondary domain capable XhrIo object.");r=new g.AZ;r.B=!1;return r};
g.L.isActive=function(){return!!this.fC&&this.fC.isActive(this)};
g.L.ZE=function(r){const n=Yc;n.dispatchEvent(new qFf(n,r))};
g.L.U7=function(){return!1};
new lHN;g.L=$BY.prototype;g.L.Bv=function(){};
g.L.K4=function(){};
g.L.Dq=function(){};
g.L.wd=function(){};
g.L.KJ=function(){};
g.L.Iz=function(){return{}};
g.L.isActive=function(){return!0};g.L=EWl.prototype;g.L.enqueue=function(r){this.C.push(r)};
g.L.isEmpty=function(){return this.X.length===0&&this.C.length===0};
g.L.clear=function(){this.X=[];this.C=[]};
g.L.contains=function(r){return g.Uv(this.X,r)||g.Uv(this.C,r)};
g.L.remove=function(r){{var n=this.X;const u=Array.prototype.lastIndexOf.call(n,r,n.length-1);u>=0?(g.p2(n,u),n=!0):n=!1}return n||g.Bl(this.C,r)};
g.L.Uq=function(){const r=[];for(var n=this.X.length-1;n>=0;--n)r.push(this.X[n]);n=this.C.length;for(let u=0;u<n;++u)r.push(this.C[u]);return r};var zcY=class extends g.sF{constructor(r){super("channelMessage");this.message=r}},sOY=class extends g.sF{constructor(r){super("channelError");this.error=r}};g.w7(pS,g.Se);g.L=pS.prototype;g.L.kN=function(){this.retryCount++;this.XW=Math.min(3E5,this.XW*2);this.C();this.hD&&this.start()};
g.L.X2=function(){return this.retryCount};
g.L.start=function(){const r=this.XW+15E3*Math.random();this.X.WI(r);this.hD=Date.now()+r};
g.L.stop=function(){this.X.stop();this.hD=0};
g.L.isActive=function(){return this.X.isActive()};
g.L.reset=function(){this.X.stop();this.retryCount=0;this.XW=5E3};g.w7(BL,$BY);g.L=BL.prototype;g.L.subscribe=function(r,n,u){return this.B.subscribe(r,n,u)};
g.L.unsubscribe=function(r,n,u){return this.B.unsubscribe(r,n,u)};
g.L.P4=function(r){return this.B.P4(r)};
g.L.publish=function(r,n){return this.B.publish.apply(this.B,arguments)};
g.L.dispose=function(){this.S||(this.S=!0,g.lU(this.B),this.disconnect(),g.lU(this.C),this.C=null,this.r9=()=>"",this.pT=()=>g.k3({}))};
g.L.KT=function(){return this.S};
g.L.connect=async function(r,n,u){try{this.A&&await this.G}finally{if(this.S||this.X&&this.X.getState()==2&&!this.N)return;this.Zt="";this.N||this.C.stop();this.Y=r||null;this.q1=n||0;const O=this.VK+"/test",N=this.VK+"/bind";r=new EW(u?u.firstTestResults:null,u?u.secondTestResults:null,this.jS);const Z=this.X;Z&&(Z.fC=null);r.fC=this;this.X=r;if(this.A)return this.G=RZ(this).then(()=>B2a(this,O,N,Z,u)),this.G.then(()=>{this.G=g.k3()});
B2a(this,O,N,Z,u)}};
g.L.disconnect=function(r){try{this.A&&(this.G.cancel(),this.G=g.k3())}finally{this.CT=r||0,this.C&&this.C.stop(),KS(this),this.X&&(this.X.getState()==3&&Q8G(this.X),this.X.disconnect()),this.CT=0}};
g.L.sendMessage=async function(r,n){try{this.A&&await this.G}finally{if(this.S)return;const u={_sc:r};n&&g.QQ(u,n);if(this.C.isActive()||(this.X?this.X.getState():0)==2)this.Z.push(u);else if(this.Uy())try{this.A&&!R92(this,r)&&await RZ(this)}finally{this.Uy()&&(R92(this,r),KS(this),PL(this.X,u))}}};
g.L.Bv=function(){this.V&&this.C&&this.C.X2()>0&&(this.V.ZhT(this.C.X2(),this.N,!0),this.V.FgP());this.V&&this.V.Tfo();this.N?(this.C.stop(),g.lU(this.C),this.C=new pS(this.y7,this),this.N=!1):this.C.reset();this.Y=null;this.q1=0;if(this.Z.length)if(this.A)MM7(this);else{var r=this.Z;this.Z=[];var n=r.length;for(let u=0;u<n;++u)PL(this.X,r[u]);Mk(this);Mk(this)}else Mk(this)};
g.L.wd=function(r){var n=r==2&&this.X.yS==401;r==4||n||(this.N&&!this.C.isActive()&&(g.lU(this.C),this.C=new pS(this.y7,this),this.N=!1),this.C.start());this.publish("handlerError",r,n);n=Object.keys(ECG).find(u=>ECG[u]===r);
this.Io.X("BROWSER_CHANNEL",n??"UNKNOWN")};
g.L.KJ=function(r,n){if(!this.C.isActive())this.publish("handlerClosed");else if(n){const u=n.length;for(let O=0;O<u;++O){const N=n[O].map;N&&this.Z.push(N)}}this.w9.X("BROWSER_CHANNEL");r&&g.cF(this.lY.C,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",r.length);n&&g.cF(this.XU.C,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",n.length)};
g.L.Dq=function(r,n){n!=null&&r!=null&&this.d9.X()};
g.L.Iz=function(){const r={v:2};this.Zt&&(r.gsessionid=this.Zt);this.q1!=0&&(r.ui=""+this.q1);this.CT!=0&&(r.ui=""+this.CT);this.Y&&g.QQ(r,this.Y);return r};
g.L.K4=function(r){r[0]=="S"?this.Zt=r[1]:r[0]=="gracefulReconnect"?(this.C.start(),this.X.disconnect()):this.publish("handlerMessage",new z9N(r[0],r[1]));this.M1.X("BROWSER_CHANNEL")};
g.L.Uy=function(){return!!this.X&&this.X.getState()==3};
g.L.Mh=function(r){(this.oo.loungeIdToken=r)||this.C.stop();if(this.yK&&this.X){const n=this.X.Xx||{};r?n["X-YouTube-LoungeId-Token"]=r:delete n["X-YouTube-LoungeId-Token"];this.X.Xx=n}};
g.L.getDeviceId=function(){return this.oo.id};
g.L.nU=function(){return this.C.isActive()?this.C.hD-Date.now():NaN};
g.L.uR=function(){var r=this.C;g.qL(r.X);r.start()};
g.L.y7=function(){this.C.isActive();VMG(this.X)==0&&this.connect(this.Y,this.q1)};HL.prototype.sendRequest=function(r,n,u,O,N,Z,J){r={format:Z?"RAW":"JSON",method:r,context:this,timeout:5E3,withCredentials:!!J,onSuccess:g.JY(this.Z,O,!Z),onError:g.JY(this.N,N),onTimeout:g.JY(this.G,N)};u&&(r.postParams=u,r.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.TJ(n,r)};
HL.prototype.Z=function(r,n,u,O){n?r(O):r({text:u.responseText})};
HL.prototype.N=function(r,n){r(Error("Request error: "+n.status))};
HL.prototype.G=function(r){r(Error("request timed out"))};var Wnv=class extends g.y1{constructor(r,n){super();this.handler=r();this.handler.subscribe("handlerOpened",this.X,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(u,O)=>{this.onError(O)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.C=n}connect(r,n,u){this.handler.connect(r,n,u)}disconnect(r){this.handler.disconnect(r)}uR(){this.handler.uR()}getDeviceId(){return this.handler.getDeviceId()}nU(){return this.handler.nU()}Uy(){return this.handler.Uy()}X(){this.dispatchEvent("channelOpened");var r=this.handler,n=this.C;g.lq("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!r.X.d4,sessionId:r.X.Z,arrayId:r.X.S_});g.lq("yt-remote-session-screen-id",
n);r=QJ();n=oD();g.Uv(r,n)||r.push(n);uq2(r);LE()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(r){this.dispatchEvent(new zcY(r))}onError(r){this.dispatchEvent(new sOY(r?1:0))}sendMessage(r,n){this.handler.sendMessage(r,n)}Mh(r){this.handler.Mh(r)}dispose(){this.handler.dispose()}};var ICN=class{constructor(r,n,u=()=>""){new epl;
var O=new g.FZ;this.pathPrefix=r;this.X=n;this.oo=u;this.G=O;this.A=null;this.S=this.B=0;this.channel=null;this.V=0;this.N=new pS(()=>{this.N.isActive();this.channel?.Z().C()===0&&this.connect(this.A,this.B)});
this.Z={};this.C={};this.q1=!1;this.logger=null;this.Y=[];this.wy=void 0;this.r9=new s87;this.CT=new PrY;this.eS=new aCa;this.Zt=new UBY}connect(r={},n=0){this.V!==2&&(this.N.stop(),this.A=r,this.B=n,vL(this),(r=g.K("ID_TOKEN"))?this.Z["x-youtube-identity-token"]=r:delete this.Z["x-youtube-identity-token"],this.X&&(this.C.device=this.X.device,this.C.name=this.X.name,this.C.app=this.X.app,this.C.id=this.X.id,this.X.Q2&&(this.C.mdxVersion=`${this.X.Q2}`),this.X.theme&&(this.C.theme=this.X.theme),this.X.capabilities&&
(this.C.capabilities=this.X.capabilities),this.X.bS&&(this.C.cst=this.X.bS),this.X.authuser&&(this.C.authuser=this.X.authuser),this.X.pageId&&(this.C.pageId=this.X.pageId)),this.B!==0?this.C.ui=`${this.B}`:delete this.C.ui,Object.assign(this.C,this.A),this.channel=new Tv(this.pathPrefix,{R7:"gsessionid",jp:this.Z,nD:this.C}),this.channel.open(),this.V=2,DBf(this))}disconnect(r=0){this.S=r;this.N.stop();vL(this);this.channel&&(this.S!==0?this.C.ui=`${this.S}`:delete this.C.ui,this.channel.close());
this.S=0}nU(){return this.N.isActive()?this.N.hD-Date.now():NaN}uR(){var r=this.N;g.qL(r.X);r.start()}sendMessage(r,n){this.channel&&(vL(this),this.channel.send({_sc:r,...n}))}Mh(r){r||this.N.stop();r?this.Z["X-YouTube-LoungeId-Token"]=r:delete this.Z["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.X?this.X.id:""}publish(r,...n){return this.G.publish(r,...n)}subscribe(r,n,u){return this.G.subscribe(r,n,u)}unsubscribe(r,n,u){return this.G.unsubscribe(r,n,u)}P4(r){return this.G.P4(r)}dispose(){this.q1||
(this.q1=!0,g.lU(this.G),this.disconnect(),g.lU(this.N),this.oo=()=>"")}KT(){return this.q1}};var vWh=class extends g.y1{constructor(r){super();this.X=r();this.X.subscribe("webChannelOpened",this.C,this);this.X.subscribe("webChannelClosed",this.onClosed,this);this.X.subscribe("webChannelError",this.onError,this);this.X.subscribe("webChannelMessage",this.onMessage,this)}connect(r,n){this.X.connect(r,n)}disconnect(r){this.X.disconnect(r)}uR(){this.X.uR()}getDeviceId(){return this.X.getDeviceId()}nU(){return this.X.nU()}Uy(){return this.X.V===3}C(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(r){this.dispatchEvent(new zcY(r))}onError(){this.dispatchEvent(new sOY(this.X.wy===
401?1:0))}sendMessage(r,n){this.X.sendMessage(r,n)}Mh(r){this.X.Mh(r)}dispose(){this.X.dispose()}};var e92=Date.now(),IZ=null,F_=Array(50),gj=-1,Ax=!1;g.w7(yZ,g.TH);yZ.prototype.OL=function(){return this.screens};
yZ.prototype.contains=function(r){return!!VJ(this.screens,r)};
yZ.prototype.get=function(r){return r?l_(this.screens,r):null};
yZ.prototype.info=function(r){WL(this.V,r)};var bPV=class extends g.TH{constructor(r,n,u,O,N){super();this.Z=r;this.Y=n;this.A=u;this.q1=O;this.S=N;this.C=0;this.X=null;this.HI=NaN}start(){!this.X&&isNaN(this.HI)&&this.N()}stop(){this.X&&(this.X.abort(),this.X=null);isNaN(this.HI)||(g.uV(this.HI),this.HI=NaN)}xY(){this.stop();super.xY()}N(){this.HI=NaN;this.X=g.TJ(Dw(this.Z,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.Y},timeout:5E3,onSuccess:(0,g.Zh)(this.V,this),onError:(0,g.Zh)(this.G,this),onTimeout:(0,g.Zh)(this.B,
this)})}V(r,n){this.X=null;r=n.screen||{};r.dialId=this.A;r.name=this.q1;n=-1;this.S&&r.shortLivedLoungeToken&&r.shortLivedLoungeToken.value&&r.shortLivedLoungeToken.refreshIntervalMs&&(r.screenIdType="shortLived",r.loungeToken=r.shortLivedLoungeToken.value,n=r.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new Xr(r),n)}G(r){this.X=null;r.status&&r.status==404?this.C>=PeY.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(r=PeY[this.C],this.HI=g.ri((0,g.Zh)(this.N,
this),r),this.C++):this.publish("pairingFailed",Error("Server error "+r.status))}B(){this.X=null;this.publish("pairingFailed",Error("Server not responding"))}},PeY=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.w7(dj,yZ);g.L=dj.prototype;g.L.start=function(){hx(this)&&this.publish("screenChange");!g.QL("yt-remote-lounge-token-expiration")&&unm(this);g.uV(this.X);this.X=g.ri((0,g.Zh)(this.start,this),1E4)};
g.L.add=function(r,n){hx(this);CrY(this,r);eb(this,!1);this.publish("screenChange");n(r);r.token||unm(this)};
g.L.remove=function(r,n){let u=hx(this);n3Z(this,r)&&(eb(this,!1),u=!0);n(r);u&&this.publish("screenChange")};
g.L.mp=function(r,n,u,O){let N=hx(this);const Z=this.get(r.id);Z?(Z.name!=n&&(Z.name=n,eb(this,!1),N=!0),u(r)):O(Error("no such local screen."));N&&this.publish("screenChange")};
g.L.xY=function(){g.uV(this.X);dj.Pw.xY.call(this)};
g.L.Hq=function(r){hx(this);let n=this.screens.length;r=r&&r.screens||[];const u=r.length;for(let O=0;O<u;++O){const N=r[O],Z=this.get(N.screenId);Z&&(Z.token=N.loungeToken,--n)}eb(this,!n);n&&WL(this.V,"Missed "+n+" lounge tokens.")};
g.L.dS=function(r){WL(this.V,"Requesting lounge tokens failed: "+r)};var Tkv=class extends g.TH{constructor(r,n){super();this.V=n;n=(n=g.QL("yt-remote-online-screen-ids")||"")?n.split(","):[];const u={},O=this.V(),N=O.length;for(let Z=0;Z<N;++Z){const J=O[Z].id;u[J]=g.Uv(n,J)}this.X=u;this.G=r;this.N=this.Z=NaN;this.C=null;CS("Initialized with "+g.vF(this.X))}start(){const r=parseInt(g.QL("yt-remote-fast-check-period")||"0",10);(this.Z=g.jm()-144E5<r?0:r)?rI(this):(this.Z=g.jm()+3E5,g.lq("yt-remote-fast-check-period",this.Z),this.B())}isEmpty(){return g.X0(this.X)}update(){CS("Updating availability on schedule.");
const r=this.V(),n=g.C2(this.X,function(u,O){return u&&!!l_(r,O)},this);
n5(this,n)}xY(){g.uV(this.N);this.N=NaN;this.C&&(this.C.abort(),this.C=null);super.xY()}B(){g.uV(this.N);this.N=NaN;this.C&&this.C.abort();const r=NkV(this);if(jE(r)){var n=Dw(this.G,"/pairing/get_screen_availability"),u={lounge_token:g.jP(r).join(",")};this.C=this.G.sendRequest("POST",n,u,(0,g.Zh)(this.S,this,r),(0,g.Zh)(this.A,this))}else n5(this,{}),rI(this)}S(r,n){this.C=null;var u=g.jP(NkV(this));if(g.ya(u,g.jP(r))){n=n.screens||[];u={};var O=n.length;for(let N=0;N<O;++N)u[r[n[N].loungeToken]]=
n[N].status=="online";n5(this,u);rI(this)}else this.cg("Changing Screen set during request."),this.B()}A(r){this.cg("Screen availability failed: "+r);this.C=null;rI(this)}cg(r){WL("OnlineScreenService",r)}};g.w7(O1,yZ);g.L=O1.prototype;g.L.start=function(){this.C.start();this.X.start();this.screens.length&&(this.publish("screenChange"),this.X.isEmpty()||this.publish("onlineScreenChange"))};
g.L.add=function(r,n,u){this.C.add(r,n,u)};
g.L.remove=function(r,n,u){this.C.remove(r,n,u);this.X.update()};
g.L.mp=function(r,n,u,O){this.C.contains(r)?this.C.mp(r,n,u,O):(r="Updating name of unknown screen: "+r.name,WL(this.V,r),O(Error(r)))};
g.L.OL=function(r){return r?this.screens:g.Mf(this.screens,g.$Z(this.N,function(n){return!this.contains(n)},this))};
g.L.Ah=function(){return g.$Z(this.OL(!0),function(r){return!!this.X.X[r.id]},this)};
g.L.z1=function(r,n,u,O,N,Z){this.info("getDialScreenByPairingCode "+r+" / "+n);const J=new bPV(this.Z,r,n,u,O);J.subscribe("pairingComplete",(k,G)=>{g.lU(J);N(Nl(this,k),G)});
J.subscribe("pairingFailed",k=>{g.lU(J);Z(k)});
J.start();return(0,g.Zh)(J.stop,J)};
g.L.hT=function(r,n,u,O){g.TJ(Dw(this.Z,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:r},timeout:5E3,onSuccess:(0,g.Zh)(function(N,Z){N=new Xr(Z.screen||{});if(!N.name||k$Y(this,N.name)){a:{Z=N.name;let J=2,k=n(Z,J);for(;k$Y(this,k);){J++;if(J>20)break a;k=n(Z,J)}Z=k}N.name=Z}u(Nl(this,N))},this),
onError:(0,g.Zh)(function(N){O(Error("pairing request failed: "+N.status))},this),
onTimeout:(0,g.Zh)(function(){O(Error("pairing request timed out."))},this)})};
g.L.xY=function(){g.lU(this.C);g.lU(this.X);O1.Pw.xY.call(this)};
g.L.Tm=function(){wFl(this);this.publish("screenChange");this.X.update()};
O1.prototype.dispose=O1.prototype.dispose;g.w7(JP,g.TH);g.L=JP.prototype;g.L.n1=function(r){this.KT()||(r&&(kv(this,""+r),this.publish("sessionFailed")),this.X=null,this.publish("sessionScreen",null))};
g.L.info=function(r){WL(this.Zt,r)};
g.L.Wv=function(){return null};
g.L.fB=function(r){const n=this.C;r?(n.displayStatus=new chrome.cast.ReceiverDisplayStatus(r,[]),n.displayStatus.showStop=!0):n.displayStatus=null;chrome.cast.setReceiverDisplayStatus(n,(0,g.Zh)(function(){this.info("Updated receiver status for "+n.friendlyName+": "+r)},this),(0,g.Zh)(function(){kv(this,"Failed to update receiver status for: "+n.friendlyName)},this))};
g.L.xY=function(){this.fB("");JP.Pw.xY.call(this)};var L6=class extends JP{constructor(r,n,u){super(r,n,"CastSession");this.config_=u;this.N=null;this.Y=(0,g.Zh)(this.r9,this);this.oo=(0,g.Zh)(this.pT,this);this.q1=g.ri(()=>{qHh(this,null)},12E4);
this.A=this.G=this.B=this.S=0}CT(r){if(this.N){if(this.N==r)return;kv(this,"Overriding cast session with new session object");f$7(this);this.N.removeUpdateListener(this.Y);this.N.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.oo)}this.N=r;this.N.addUpdateListener(this.Y);this.N.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.oo);x3Y(this,"getMdxSessionStatus")}V(r){this.info("launchWithParams no-op for Cast: "+g.vF(r))}stop(){this.N?this.N.stop((0,g.Zh)(function(){this.n1()},
this),(0,g.Zh)(function(){this.n1(Error("Failed to stop receiver app."))},this)):this.n1(Error("Stopping cast device without session."))}fB(){}xY(){this.info("disposeInternal");
f$7(this);this.N&&(this.N.removeUpdateListener(this.Y),this.N.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.oo));this.N=null;super.xY()}pT(r,n){if(!this.KT())if(n)if(n=k1(n),g.Cr(n))switch(r=""+n.type,n=n.data||{},this.info("onYoutubeMessage_: "+r+" "+g.vF(n)),r){case "mdxSessionStatus":qHh(this,n);break;case "loungeToken":VTr(this,n);break;default:kv(this,"Unknown youtube message: "+r)}else kv(this,"Unable to parse message.");else kv(this,"No data in message.")}eS(r,n,u,O){g.uV(this.S);
this.S=0;jdG(this.Z,this.C.label,r,this.C.friendlyName,(0,g.Zh)(function(N){N?n(N):O>=0?(kv(this,"Screen "+r+" appears to be offline. "+O+" retries left."),this.S=g.ri((0,g.Zh)(this.eS,this,r,n,u,O-1),300)):u(Error("Unable to fetch screen."))},this),u)}Wv(){return this.N}r9(r){this.KT()||r||(kv(this,"Cast session died."),this.n1())}};var a72=class extends JP{constructor(r,n,u,O){super(r,n,"DialSession");this.config_=O;this.N=this.S=null;this.oo="";this.pT=u;this.r9=null;this.Y=()=>{};
this.q1=NaN;this.eS=(0,g.Zh)(this.VK,this);this.G=()=>{};
this.A=this.B=0}CT(r){this.N=r;this.N.addUpdateListener(this.eS)}V(r){this.r9=r;this.Y()}stop(){LOm(this);this.N?this.N.stop((0,g.Zh)(this.n1,this,null),(0,g.Zh)(this.n1,this,"Failed to stop DIAL device.")):this.n1()}xY(){LOm(this);this.N&&this.N.removeUpdateListener(this.eS);this.N=null;super.xY()}VK(r){this.KT()||r||(kv(this,"DIAL session died."),this.G(),this.G=()=>{},this.n1())}};var UXl=class extends JP{constructor(r,n){super(r,n,"ManualSession");this.N=g.ri((0,g.Zh)(this.V,this,null),150)}stop(){this.n1()}CT(){}V(){g.uV(this.N);this.N=NaN;const r=l_(this.Z.OL(),this.C.label);r?jC(this,r):this.n1(Error("No such screen"))}xY(){g.uV(this.N);this.N=NaN;super.xY()}};var zD=class extends g.TH{constructor(r,n){super();this.config_=n;this.C=r;this.CT=n.appId||"233637DE";this.Z=n.theme||"cl";this.Zt=n.disableCastApi||!1;this.B=n.forceMirroring||!1;this.X=null;this.A=!1;this.N=[];this.V=(0,g.Zh)(this.r9,this)}init(r,n){chrome.cast.timeout.requestSession=3E4;var u=new chrome.cast.SessionRequest(this.CT,[chrome.cast.Capability.AUDIO_OUT]);g.ZO("desktop_enable_cast_connect")&&(u.androidReceiverCompatible=!0);this.Zt||(u.dialRequest=new chrome.cast.DialRequest("YouTube"));
const O=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;r=r||this.B?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const N=(0,g.Zh)(this.pT,this);u=new chrome.cast.ApiConfig(u,(0,g.Zh)(this.S,this),N,O,r);u.customDialLaunchCallback=(0,g.Zh)(this.eS,this);chrome.cast.initialize(u,(0,g.Zh)(function(){this.KT()||(chrome.cast.addReceiverActionListener(this.V),yLh(),this.C.subscribe("onlineScreenChange",(0,g.Zh)(this.G,this)),this.N=Pdl(this),chrome.cast.setCustomReceivers(this.N,
()=>{},(0,g.Zh)(function(Z){this.cg("Failed to set initial custom receivers: "+g.vF(Z))},this)),this.publish("yt-remote-cast2-availability-change",Yv(this)),n(!0))},this),(0,g.Zh)(function(Z){this.cg("Failed to initialize API: "+g.vF(Z));
n(!1)},this))}w9(r,n){ql("Setting connected screen ID: "+r+" -> "+n);
if(this.X){var u=this.X.X;if(!r||u&&u.id!=r)ql("Unsetting old screen status: "+this.X.C.friendlyName),f5(this,null)}if(r&&n){if(!this.X){r=l_(this.C.OL(),r);if(!r){ql("setConnectedScreenStatus: Unknown screen.");return}if(r.idType=="shortLived"){ql("setConnectedScreenStatus: Screen with id type to be short lived.");return}u=sdY(this,r);u||(ql("setConnectedScreenStatus: Connected receiver not custom..."),u=new chrome.cast.Receiver(r.uuid?r.uuid:r.id,r.name),u.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.N.push(u),chrome.cast.setCustomReceivers(this.N,()=>{},(0,g.Zh)(function(O){this.cg("Failed to set initial custom receivers: "+g.vF(O))},this)));
ql("setConnectedScreenStatus: new active receiver: "+u.friendlyName);f5(this,new UXl(this.C,u),!0)}this.X.fB(n)}else ql("setConnectedScreenStatus: no screen.")}Io(r){this.KT()?this.cg("Setting connection data on disposed cast v2"):this.X?this.X.V(r):this.cg("Setting connection data without a session")}oo(){this.KT()?this.cg("Stopping session on disposed cast v2"):this.X?(this.X.stop(),f5(this,null)):ql("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Zh)(this.S,this),
(0,g.Zh)(this.VK,this))}xY(){this.C.unsubscribe("onlineScreenChange",(0,g.Zh)(this.G,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.V);var r=gW2;const n=g.sx("yt.mdx.remote.debug.handlers_");g.Bl(n||[],r);g.lU(this.X);super.xY()}cg(r){WL("Controller",r)}q1(r,n){this.X==r&&(n||f5(this,null),this.publish("yt-remote-cast2-session-change",n))}r9(r,n){if(!this.KT())if(r)switch(r.friendlyName=chrome.cast.unescape(r.friendlyName),ql("onReceiverAction_ "+r.label+" / "+r.friendlyName+
"-- "+n),n){case chrome.cast.ReceiverAction.CAST:if(this.X)if(this.X.C.label!=r.label)ql("onReceiverAction_: Stopping active receiver: "+this.X.C.friendlyName),this.X.stop();else{ql("onReceiverAction_: Casting to active receiver.");this.X.X&&this.publish("yt-remote-cast2-session-change",this.X.X);break}switch(r.receiverType){case chrome.cast.ReceiverType.CUSTOM:f5(this,new UXl(this.C,r));break;case chrome.cast.ReceiverType.DIAL:f5(this,new a72(this.C,r,this.Z,this.config_));break;case chrome.cast.ReceiverType.CAST:f5(this,
new L6(this.C,r,this.config_));break;default:this.cg("Unknown receiver type: "+r.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.X&&this.X.C.label==r.label?this.X.stop():this.cg("Stopping receiver w/o session: "+r.friendlyName)}else this.cg("onReceiverAction_ called without receiver.")}eS(r){if(this.KT())return Promise.reject(Error("disposed"));var n=r.receiver;n.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.cg("Not DIAL receiver: "+n.friendlyName),n.receiverType=chrome.cast.ReceiverType.DIAL);
var u=this.X?this.X.C:null;if(!u||u.label!=n.label)return this.cg("Receiving DIAL launch request for non-clicked DIAL receiver: "+n.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(u&&u.label==n.label&&u.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.X.X)return ql("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.X.X),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.cg('Changing CAST intent from "'+u.receiverType+'" to "dial" for '+n.friendlyName);
f5(this,new a72(this.C,n,this.Z,this.config_))}n=this.X;n.S=r;n.S.appState==chrome.cast.DialAppState.RUNNING?(r=n.S.extraData||{},u=r.screenId||null,tP(n)&&r.loungeToken?r.loungeTokenRefreshIntervalMs?r=zb7(n,{name:n.C.friendlyName,screenId:r.screenId,loungeToken:r.loungeToken,dialId:n.S.receiver.label,screenIdType:"shortLived"},r.loungeTokenRefreshIntervalMs):(g.bN(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(r)}.`)),r=$3G(n,u)):r=$3G(n,u)):r=TD(n);return r}S(r){if(!this.KT()&&
!this.B){ql("New cast session ID: "+r.sessionId);var n=r.receiver;if(n.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.X)if(n.receiverType==chrome.cast.ReceiverType.CAST)ql("Got resumed cast session before resumed mdx connection."),n.friendlyName=chrome.cast.unescape(n.friendlyName),f5(this,new L6(this.C,n,this.config_),!0);else{this.cg("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var u=this.X.C,O=l_(this.C.OL(),u.label);O&&Y1(O,n.label)&&u.receiverType!=
chrome.cast.ReceiverType.CAST&&n.receiverType==chrome.cast.ReceiverType.CAST&&(ql("onSessionEstablished_: manual to cast session change "+n.friendlyName),g.lU(this.X),this.X=new L6(this.C,n,this.config_),this.X.subscribe("sessionScreen",(0,g.Zh)(this.q1,this,this.X)),this.X.subscribe("sessionFailed",()=>b1Y(this,this.X)),this.X.V(null));
this.X.CT(r)}}}Y(){return this.X?this.X.Wv():null}VK(r){this.KT()||(this.cg("Failed to estabilish a session: "+g.vF(r)),r.code!=chrome.cast.ErrorCode.CANCEL&&f5(this,null),this.publish("yt-remote-cast2-session-failed"))}pT(r){ql("Receiver availability updated: "+r);if(!this.KT()){var n=Yv(this);this.A=r==chrome.cast.ReceiverAvailability.AVAILABLE;Yv(this)!=n&&this.publish("yt-remote-cast2-availability-change",Yv(this))}}G(){this.KT()||(this.N=Pdl(this),ql("Updating custom receivers: "+g.vF(this.N)),
chrome.cast.setCustomReceivers(this.N,()=>{},(0,g.Zh)(function(){this.cg("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",Yv(this)))}};
zD.prototype.setLaunchParams=zD.prototype.Io;zD.prototype.setConnectedScreenStatus=zD.prototype.w9;zD.prototype.stopSession=zD.prototype.oo;zD.prototype.getCastSession=zD.prototype.Y;zD.prototype.requestSession=zD.prototype.requestSession;zD.prototype.init=zD.prototype.init;zD.prototype.dispose=zD.prototype.dispose;var oP=[],Bkv=(0,g.YH)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.L=s1.prototype;
g.L.reset=function(r){this.listId="";this.index=-1;this.videoId="";Pk(this);this.volume=-1;this.muted=!1;r&&(this.index=r.index,this.listId=r.listId,this.videoId=r.videoId,this.playerState=r.playerState,this.volume=r.volume,this.muted=r.muted,this.audioTrackId=r.audioTrackId,this.trackData=r.trackData,this.hasPrevious=r.hasPrevious,this.hasNext=r.hasNext,this.V=r.playerTime,this.G=r.playerTimeAt,this.C=r.seekableStart,this.B=r.seekableEnd,this.N=r.duration,this.loadedTime=r.loadedTime,this.X=r.liveIngestionTime,
this.Z=!isNaN(this.X))};
g.L.isPlaying=function(){return this.playerState==1};
g.L.isBuffering=function(){return this.playerState==3};
g.L.Tx=function(r){this.N=isNaN(r)?0:r};
g.L.getDuration=function(){return this.Z?this.N+bg(this):this.N};
g.L.clone=function(){return new s1(p5(this))};var cka=class extends g.TH{constructor(){var r=Jt();super();this.N=0;this.Z=r;this.B=[];this.G=new EWl;this.C=this.X=null;this.Y=(0,g.Zh)(this.r9,this);this.S=(0,g.Zh)(this.V,this);this.q1=(0,g.Zh)(this.eS,this);this.Zt=(0,g.Zh)(this.pT,this);let n=0;r?(n=r.getProxyState(),n!=3&&(r.subscribe("proxyStateChange",this.CT,this),WOY(this))):n=3;n!=0&&g.ri(()=>{this.CT(n)},0);
(r=D3h())&&Bk(this,r);this.subscribe("yt-remote-cast2-session-change",this.Zt)}getState(){return this.N}nU(){return this.Z.getReconnectTimeout()}uR(){this.Z.reconnect()}play(){RP(this)?(this.X?this.X.play(null,g.d4,Hk(this,"play")):Ml(this,"play"),vk(this,1,U1(K5(this))),this.publish("remotePlayerChange")):IP(this,this.play)}pause(){RP(this)?(this.X?this.X.pause(null,g.d4,Hk(this,"pause")):Ml(this,"pause"),vk(this,2,U1(K5(this))),this.publish("remotePlayerChange")):IP(this,this.pause)}seekTo(r){if(RP(this)){if(this.X){const n=
K5(this),u=new chrome.cast.media.SeekRequest;u.currentTime=r;n.isPlaying()||n.isBuffering()?u.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:u.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.X.seek(u,g.d4,Hk(this,"seekTo",{newTime:r}))}else Ml(this,"seekTo",{newTime:r});vk(this,3,r);this.publish("remotePlayerChange")}else IP(this,g.JY(this.seekTo,r))}stop(){if(RP(this)){this.X?this.X.stop(null,g.d4,Hk(this,"stopVideo")):Ml(this,"stopVideo");var r=K5(this);r.index=-1;r.videoId=
"";Pk(r);Dy(this,r);this.publish("remotePlayerChange")}else IP(this,this.stop)}setVolume(r,n){if(RP(this)){var u=K5(this);if(this.C){if(u.volume!=r){const O=Math.round(r)/100;this.C.setReceiverVolumeLevel(O,(0,g.Zh)(function(){i4("set receiver volume: "+O)},this),(0,g.Zh)(function(){this.cg("failed to set receiver volume.")},this))}u.muted!=n&&this.C.setReceiverMuted(n,(0,g.Zh)(function(){i4("set receiver muted: "+n)},this),(0,g.Zh)(function(){this.cg("failed to set receiver muted.")},this))}else{const O=
{volume:r,
muted:n};u.volume!=-1&&(O.delta=r-u.volume);Ml(this,"setVolume",O)}u.muted=n;u.volume=r;Dy(this,u)}else IP(this,g.JY(this.setVolume,r,n))}A(r,n){if(RP(this)){var u=K5(this);r={videoId:r};n&&(u.trackData={trackName:n.name,languageCode:n.languageCode,sourceLanguageCode:n.translationLanguage?n.translationLanguage.languageCode:"",languageName:n.languageName,kind:n.kind},r.style=g.vF(n.style),g.QQ(r,u.trackData));Ml(this,"setSubtitlesTrack",r);Dy(this,u)}else IP(this,g.JY(this.A,r,n))}setAudioTrack(r,
n){RP(this)?(n=n.getLanguageInfo().getId(),Ml(this,"setAudioTrack",{videoId:r,audioTrackId:n}),r=K5(this),r.audioTrackId=n,Dy(this,r)):IP(this,g.JY(this.setAudioTrack,r,n))}playVideo(r,n,u,O=null,N=null,Z=null,J=null){const k=K5(this),G={videoId:r};u!==void 0&&(G.currentIndex=u);ck(k,r,u||0);n!==void 0&&(aP(k,n),G.currentTime=n);O&&(G.listId=O);N&&(G.playerParams=N);Z&&(G.clickTrackingParams=Z);J&&(G.locationInfo=g.vF(J));Ml(this,"setPlaylist",G);O||Dy(this,k)}rp(r,n){if(RP(this)){if(r&&n){const u=
K5(this);ck(u,r,n);Dy(this,u)}Ml(this,"previous")}else IP(this,g.JY(this.rp,r,n))}nextVideo(r,n){if(RP(this)){if(r&&n){const u=K5(this);ck(u,r,n);Dy(this,u)}Ml(this,"next")}else IP(this,g.JY(this.nextVideo,r,n))}CP(){if(RP(this)){Ml(this,"clearPlaylist");var r=K5(this);r.reset();Dy(this,r);this.publish("remotePlayerChange")}else IP(this,this.CP)}oo(){RP(this)?Ml(this,"dismissAutoplay"):IP(this,this.oo)}dispose(){if(this.N!=3){const r=this.N;this.N=3;this.publish("proxyStateChange",r,this.N)}super.dispose()}xY(){i1Y(this);
this.Z=null;this.G.clear();Bk(this,null);super.xY()}CT(r){if((r!=this.N||r==2)&&this.N!=3&&r!=0){var n=this.N;this.N=r;this.publish("proxyStateChange",n,r);if(r==1)for(;!this.G.isEmpty();)n=r=this.G,n.X.length===0&&(n.X=n.C,n.X.reverse(),n.C=[]),r.X.pop().apply(this);else r==3&&this.dispose()}}VK(r,n){this.publish(r,n)}r9(r){if(!r)this.V(null),Bk(this,null);else if(this.C.receiver.volume){r=this.C.receiver.volume;const n=K5(this),u=Math.round(100*r.level||0);if(n.volume!=u||n.muted!=r.muted)i4("Cast volume update: "+
r.level+(r.muted?" muted":"")),n.volume=u,n.muted=!!r.muted,Dy(this,n)}}V(r){i4("Cast media: "+!!r);this.X&&this.X.removeUpdateListener(this.q1);if(this.X=r)this.X.addUpdateListener(this.q1),g3m(this),this.publish("remotePlayerChange")}eS(r){r?(g3m(this),this.publish("remotePlayerChange")):this.V(null)}Ig(){Ml(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}pT(){const r=D3h();r&&Bk(this,r)}cg(r){WL("CP",r)}};var qj=class extends g.TH{constructor(r,n=!1){var u=hP,O=Nj();super();this.V=NaN;this.eS=!1;this.Y=this.q1=this.CT=this.Zt=NaN;this.oo=[];this.G=this.A=this.Z=this.X=this.C=null;this.M1=u;this.VK=n;this.oo.push(g.tT(window,"beforeunload",()=>{this.B(2)}));
this.N=[];this.X=new s1;this.d9=r.id;this.pT=r.idType;this.C=iU2(this.M1,O,this.r9,this.pT=="shortLived",this.d9);this.C.listen("channelOpened",()=>{FO2(this)});
this.C.listen("channelClosed",()=>{Wk("Channel closed");isNaN(this.V)?mQ(!0):mQ();this.dispose()});
this.C.listen("channelError",N=>{mQ();isNaN(this.S())?(N==1&&this.pT=="shortLived"&&this.publish("browserChannelAuthError",N),Wk(`Channel error: ${N} without reconnection`),this.dispose()):(this.eS=!0,Wk("Channel error: "+N+" with reconnection in "+this.S()+" ms"),gI(this,2))});
this.C.listen("channelMessage",N=>{ZPa(this,N)});
this.C.Mh(r.token);this.subscribe("remoteQueueChange",()=>{var N=this.X.videoId;g.oQ()&&g.lq("yt-remote-session-video-id",N)})}connect(r,n){if(n){var u=n.listId;
const O=n.videoId,N=n.videoIds,Z=n.playerParams,J=n.clickTrackingParams,k=n.index,G={videoId:O},w=n.currentTime,T=n.locationInfo;n=n.loopMode;w!==void 0&&(G.currentTime=w<=5?0:w);Z&&(G.playerParams=Z);T&&(G.locationInfo=T);J&&(G.clickTrackingParams=J);u&&(G.listId=u);N&&N.length>0&&(G.videoIds=N.join(","));k!==void 0&&(G.currentIndex=k);this.VK&&(G.loopMode=n||"LOOP_MODE_OFF");u&&(this.X.listId=u);this.X.videoId=O;this.X.index=k||0;this.X.state=3;aP(this.X,w);this.G="UNSUPPORTED";u=this.VK?"setInitialState":
"setPlaylist";Wk(`Connecting with ${u} and params: ${g.vF(G)}`);this.C.connect({method:u,params:g.vF(G)},r,OiG())}else Wk("Connecting without params"),this.C.connect({},r,OiG());Jkr(this)}Mh(r){this.C.Mh(r)}dispose(){this.KT()||(g.zf("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),gI(this,3));super.dispose()}xY(){FW(this);AP(this);ig(this);g.uV(this.q1);this.q1=NaN;g.uV(this.Y);this.Y=NaN;this.Z=null;g.XT(this.oo);this.oo.length=0;this.C.dispose();super.xY();this.G=this.A=this.N=
this.X=this.C=null}Io(r){if(!this.N||this.N.length===0)return!1;for(const n of this.N)if(!n.capabilities.has(r))return!1;return!0}yK(){let r=3;this.KT()||(r=0,isNaN(this.S())?this.C.Uy()&&isNaN(this.V)&&(r=1):r=2);return r}B(r){Wk("Disconnecting with "+r);g.zf("yt.mdx.remote.remoteClient_",null);FW(this);this.publish("beforeDisconnect",r);r==1&&mQ();this.C.disconnect(r);this.dispose()}ao(){let r=this.X;this.Z&&(r=this.X.clone(),ck(r,this.Z,r.index));return p5(r)}XU(r){const n=new s1(r);n.videoId&&
n.videoId!=this.X.videoId&&(this.Z=n.videoId,g.uV(this.q1),this.q1=g.ri(()=>{if(this.Z){const O=this.Z;this.Z=null;this.X.videoId!=O&&yf(this,"getNowPlaying")}},5E3));
const u=[];this.X.listId==n.listId&&this.X.videoId==n.videoId&&this.X.index==n.index||u.push("remoteQueueChange");this.X.playerState==n.playerState&&this.X.volume==n.volume&&this.X.muted==n.muted&&U1(this.X)==U1(n)&&g.vF(this.X.trackData)==g.vF(n.trackData)||u.push("remotePlayerChange");this.X.reset(r);g.mV(u,function(O){this.publish(O)},this)}w9(){const r=this.C.getDeviceId(),n=g.bG(this.N,function(u){return u.type=="REMOTE_CONTROL"&&u.id!=r});
return n?n.id:""}S(){return this.C.nU()}TP(){return this.G||"UNSUPPORTED"}jS(){return this.A||""}W_(){!isNaN(this.S())&&this.C.uR()}lY(r,n){yf(this,r,n);Gma(this)}r9(){var r=g.$F("SAPISID","")||g.$F("__Secure-1PAPISID")||"",n=g.$F("__Secure-3PAPISID","")||"";if(!r&&!n)return"";r=g.n7(g.ei(r),2);n=g.n7(g.ei(n),2);return g.n7(g.ei(`,${r},${n}`),2)}};qj.prototype.subscribe=qj.prototype.subscribe;qj.prototype.unsubscribeByKey=qj.prototype.P4;qj.prototype.getProxyState=qj.prototype.yK;
qj.prototype.disconnect=qj.prototype.B;qj.prototype.getPlayerContextData=qj.prototype.ao;qj.prototype.setPlayerContextData=qj.prototype.XU;qj.prototype.getOtherConnectedRemoteId=qj.prototype.w9;qj.prototype.getReconnectTimeout=qj.prototype.S;qj.prototype.getAutoplayMode=qj.prototype.TP;qj.prototype.getAutoplayVideoId=qj.prototype.jS;qj.prototype.reconnect=qj.prototype.W_;qj.prototype.sendMessage=qj.prototype.lY;qj.prototype.getXsrfToken=qj.prototype.r9;
qj.prototype.isCapabilitySupportedOnConnectedDevices=qj.prototype.Io;var f7G=class extends yZ{constructor(r){super("ScreenServiceProxy");this.CC=r;this.X=[];this.X.push(this.CC.$_s("screenChange",(0,g.Zh)(this.C,this)));this.X.push(this.CC.$_s("onlineScreenChange",(0,g.Zh)(this.N,this)))}OL(r){return this.CC.$_gs(r)}contains(r){return!!this.CC.$_c(r)}get(r){return this.CC.$_g(r)}start(){this.CC.$_st()}add(r,n,u){this.CC.$_a(r,n,u)}remove(r,n,u){this.CC.$_r(r,n,u)}mp(r,n,u,O){this.CC.$_un(r,n,u,O)}xY(){const r=this.X.length;for(let n=0;n<r;++n)this.CC.$_ubk(this.X[n]);
this.X.length=0;this.CC=null;super.xY()}C(){this.publish("screenChange")}N(){this.publish("onlineScreenChange")}};O1.prototype.$_st=O1.prototype.start;O1.prototype.$_gspc=O1.prototype.hT;O1.prototype.$_gsppc=O1.prototype.z1;O1.prototype.$_c=O1.prototype.contains;O1.prototype.$_g=O1.prototype.get;O1.prototype.$_a=O1.prototype.add;O1.prototype.$_un=O1.prototype.mp;O1.prototype.$_r=O1.prototype.remove;O1.prototype.$_gs=O1.prototype.OL;O1.prototype.$_gos=O1.prototype.Ah;O1.prototype.$_s=O1.prototype.subscribe;
O1.prototype.$_ubk=O1.prototype.P4;var kP=null,YP=!1,hP=null,dI=null,X6=null,n6=[];var ph2=class extends g.Se{constructor(r,n,u){super();this.X=r;this.O=n;this.f_=u;this.events=new g.$g(this);this.V=!1;this.A=new g.xk(64);this.C=new g.Y9(this.r9,500,this);this.N=new g.Y9(this.pT,1E3,this);this.q1=new aD(this.d9,0,this);this.Z={};this.Y=new g.Y9(this.w9,1E3,this);this.S=new g.QO(this.seekTo,1E3,this);this.Io=this.events.W(this.O,"onVolumeChange",O=>{l77(this,O)});
g.E(this,this.events);this.events.W(n,"onCaptionsTrackListChanged",this.W_);this.events.W(n,"captionschanged",this.M1);this.events.W(n,"captionssettingschanged",this.VK);this.events.W(n,"videoplayerreset",this.B);this.events.W(n,"mdxautoplaycancel",()=>{this.f_.oo()});
n.K("enable_mdx_video_play_directly")&&this.events.W(n,"videodatachange",()=>{oCZ(this.X)||f6(this)||Vl(this,0)});
r=this.f_;r.KT();r.subscribe("proxyStateChange",this.eS,this);r.subscribe("remotePlayerChange",this.G,this);r.subscribe("remoteQueueChange",this.B,this);r.subscribe("previousNextChange",this.Zt,this);r.subscribe("nowAutoplaying",this.CT,this);r.subscribe("autoplayDismissed",this.oo,this);g.E(this,this.C);g.E(this,this.N);g.E(this,this.q1);g.E(this,this.Y);g.E(this,this.S);this.VK();this.B();this.G()}xY(){super.xY();this.C.stop();this.N.stop();this.q1.stop();const r=this.f_;r.unsubscribe("proxyStateChange",
this.eS,this);r.unsubscribe("remotePlayerChange",this.G,this);r.unsubscribe("remoteQueueChange",this.B,this);r.unsubscribe("previousNextChange",this.Zt,this);r.unsubscribe("nowAutoplaying",this.CT,this);r.unsubscribe("autoplayDismissed",this.oo,this);this.f_=this.X=null}Oq(r,...n){if(this.f_.N!=2)if(f6(this)){if(K5(this.f_).playerState!=1081||r!=="control_seek")switch(r){case "control_toggle_play_pause":K5(this.f_).isPlaying()?this.f_.pause():this.f_.play();break;case "control_play":this.f_.play();
break;case "control_pause":this.f_.pause();break;case "control_seek":this.S.Z(n[0],n[1]);break;case "control_subtitles_set_track":ln(this,n[0]);break;case "control_set_audio_track":this.setAudioTrack(n[0])}}else switch(r){case "control_toggle_play_pause":case "control_play":case "control_pause":r=this.O.getCurrentTime();Vl(this,r===0?void 0:r);break;case "control_seek":Vl(this,n[0]);break;case "control_subtitles_set_track":ln(this,n[0]);break;case "control_set_audio_track":this.setAudioTrack(n[0])}}M1(r){this.q1.IX(r)}d9(r){this.Oq("control_subtitles_set_track",
g.X0(r)?null:r)}VK(){const r=this.O.getOption("captions","track");g.X0(r)||ln(this,r)}wf(r){this.X.wf(r,this.O.getVideoData().lengthSeconds)}W_(){g.X0(this.Z)||QOG(this,this.Z);this.V=!1}eS(r,n){this.N.stop();n===2&&this.pT()}G(){if(f6(this)){this.C.stop();var r=K5(this.f_);switch(r.playerState){case 1080:case 1081:case 1084:case 1085:this.X.cB=1;break;case 1082:case 1083:this.X.cB=0;break;default:this.X.cB=-1}switch(r.playerState){case 1081:case 1:this.XZ(new g.xk(8));this.r9();break;case 1085:case 3:this.XZ(new g.xk(9));
break;case 1083:case 0:this.XZ(new g.xk(2));this.S.stop();this.wf(this.O.getVideoData().lengthSeconds);break;case 1084:this.XZ(new g.xk(4));break;case 2:this.XZ(new g.xk(4));this.wf(U1(r));break;case -1:this.XZ(new g.xk(64));break;case -1E3:this.XZ(new g.xk(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",LI:2}))}const u=K5(this.f_).trackData;r=u;var n=this.Z;(r||n?r&&n&&r.trackName==n.trackName&&r.languageCode==n.languageCode&&r.languageName==n.languageName&&
r.kind==n.kind:1)||(this.Z=u,QOG(this,u));r=K5(this.f_);r.volume===-1||Math.round(this.O.getVolume())===r.volume&&this.O.isMuted()===r.muted||this.Y.isActive()||this.w9()}else Sfa(this)}Zt(){this.O.publish("mdxpreviousnextchange")}B(){f6(this)||Sfa(this)}CT(r){isNaN(r)||this.O.publish("mdxnowautoplaying",r)}oo(){this.O.publish("mdxautoplaycanceled")}setAudioTrack(r){f6(this)&&this.f_.setAudioTrack(xP(this).videoId,r)}seekTo(r,n){K5(this.f_).playerState===-1?Vl(this,r):n&&this.f_.seekTo(r)}w9(){if(f6(this)){var r=
K5(this.f_);this.events.Vd(this.Io);r.muted?this.O.mute():this.O.unMute();this.O.setVolume(r.volume);this.Io=this.events.W(this.O,"onVolumeChange",n=>{l77(this,n)})}}r9(){this.C.stop();
if(!this.f_.KT()){var r=K5(this.f_);r.isPlaying()&&this.XZ(new g.xk(8));this.wf(U1(r));this.C.start()}}pT(){this.N.stop();this.C.stop();const r=this.f_.nU();this.f_.N==2&&!isNaN(r)&&this.N.start()}XZ(r){this.N.stop();const n=this.A;if(!g.LY(n,r)){const u=r.X(2);u!==this.A.X(2)&&this.O.A_(u);this.A=r;LTY(this.X,n,r)}}};var B0a=class extends g.e5{constructor(r,n){super(r);this.X=n}getCurrentTime(){return this.X.getCurrentTime()}getDuration(){return this.X.getDuration()}rl(){return this.X.rl()}UL(){return this.X.UL()}V$(){return this.X.V$()}s_(){return this.X.s_()}getPlayerState(){return this.X.h2}isAtLiveHead(){return this.X.isAtLiveHead()}pauseVideo(){Ql(this.X,"control_pause")}async playVideo(){Ql(this.X,"control_play")}seekTo(r,n){Ql(this.X,"control_seek",r,!n?.K5)}dH(r){Ql(this.X,"control_set_audio_track",r);
return!0}};var KTf=class extends g.d{constructor(){super({U:"div",D:"ytp-mdx-popup-dialog",j:{role:"dialog"},J:[{U:"div",D:"ytp-mdx-popup-dialog-inner-content",J:[{U:"div",D:"ytp-mdx-popup-title",N1:"You're signed out"},{U:"div",D:"ytp-mdx-popup-description",N1:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{U:"div",D:"ytp-mdx-privacy-popup-buttons",J:[{U:"button",O6:["ytp-button","ytp-mdx-privacy-popup-cancel"],
N1:"Cancel"},{U:"button",O6:["ytp-button","ytp-mdx-privacy-popup-confirm"],N1:"Confirm"}]}]}]});this.fade=new g.A$(this,250);this.cancelButton=this.F3("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.F3("ytp-mdx-privacy-popup-confirm");g.E(this,this.fade);this.W(this.cancelButton,"click",this.X);this.W(this.confirmButton,"click",this.C)}Mu(){this.fade.show()}wJ(){this.fade.hide()}X(){E4("mdx-privacy-popup-cancel");this.wJ()}C(){E4("mdx-privacy-popup-confirm");this.wJ()}};var RcY=class extends g.d{constructor(r){super({U:"div",D:"ytp-remote",J:[{U:"div",D:"ytp-remote-display-status",J:[{U:"div",D:"ytp-remote-display-status-icon",J:[g.iLO()]},{U:"div",D:"ytp-remote-display-status-text",N1:"{{statustext}}"}]}]});this.api=r;this.fade=new g.A$(this,250);g.E(this,this.fade);this.W(r,"presentingplayerstatechange",this.onStateChange);this.BI(r.getPlayerStateObject())}onStateChange(r){this.BI(r.state)}BI(r){if(this.api.getPresentingPlayerType()===3){const n={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};r=r.X(128)?g.Md("Error on $RECEIVER_NAME",n):r.isPlaying()||r.isPaused()?g.Md("Playing on $RECEIVER_NAME",n):g.Md("Connected to $RECEIVER_NAME",n);this.updateValue("statustext",r);this.fade.show()}else this.fade.hide()}};var MkY=class extends g.Mb{constructor(r,n){super("Play on",1,r,n);this.O=r;this.d6={};this.W(r,"onMdxReceiversChange",this.V);this.W(r,"presentingplayerstatechange",this.V);this.V()}V(){var r=this.O.getOption("remote","receivers");r&&r.length>1&&!this.O.getOption("remote","quickCast")?(this.d6=g.d7(r,this.G,this),this.Z(g.f2(r,this.G)),r=this.O.getOption("remote","currentReceiver"),r=this.G(r),this.options[r]&&this.C(r),this.enable(!0)):this.enable(!1)}G(r){return r.key}N(r){return r==="cast-selector-receiver"?
"Cast...":this.d6[r].name}X(r){super.X(r);this.O.setOption("remote","currentReceiver",this.d6[r]);this.YY.wJ()}};g.IE("remote",class extends g.vo{constructor(r){super(r);this.Al={key:x1(),name:"This computer"};this.nQ=null;this.subscriptions=[];this.q4=this.f_=null;this.d6=[this.Al];this.wL=this.Al;this.h2=new g.xk(64);this.KV=0;this.cB=-1;this.eE=!1;this.MN=this.gb=this.gq=null;if(!g.lF(this.player.L())&&!g.Cz(this.player.L())){r=this.player;var n=g.$$(r);n&&(n=n.WB())&&(n=new MkY(r,n),g.E(this,n));n=new RcY(r);g.E(this,n);g.MH(r,n.element,4);this.gq=new KTf;g.E(this,this.gq);g.MH(r,this.gq.element,4);this.eE=
!!OY()}}create(){var r=this.player.L();const n=g.SH(r);r={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:r.K("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:r.K("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:r.K("enable_cast_short_lived_lounge_token")};XhV(n,r);this.subscriptions.push(g.w_("yt-remote-before-disconnect",this.xP,this));this.subscriptions.push(g.w_("yt-remote-connection-change",this.uK,this));this.subscriptions.push(g.w_("yt-remote-receiver-availability-change",
this.DF,this));this.subscriptions.push(g.w_("yt-remote-auto-connect",this.gm,this));this.subscriptions.push(g.w_("yt-remote-receiver-resumed",this.FI,this));this.subscriptions.push(g.w_("mdx-privacy-popup-confirm",this.C6,this));this.subscriptions.push(g.w_("mdx-privacy-popup-cancel",this.cn,this));this.DF()}load(){this.player.cancelPlayback();super.load();this.MN=new B0a(this.player.L(),this);this.player.fE(this.MN);this.nQ=new ph2(this,this.player,this.f_);var r=(r=Vkv())?r.currentTime:0;const n=
tt()?new cka:null;r==0&&n&&(r=U1(K5(n)));r!==0&&this.wf(r);LTY(this,this.h2,this.h2);this.player.vy(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.zz();this.wL=this.Al;g.Qw(this.nQ,this.f_);this.f_=this.MN=this.nQ=null;super.unload();this.player.vy(5);S0(this)}xY(){g.TI(this.subscriptions);super.xY()}getAdState(){return this.cB}hasPrevious(){return this.f_?K5(this.f_).hasPrevious:!1}hasNext(){return this.f_?K5(this.f_).hasNext:!1}wf(r,n){this.KV=r||0;this.player.publish("progresssync",
r,n);g.Sd(this.player,"onVideoProgress",r||0)}getCurrentTime(){return this.KV}getDuration(){return K5(this.f_).getDuration()||0}rl(){var r=K5(this.f_);return r.Z?r.X+bg(r):r.X}UL(){return K5(this.f_).loadedTime}V$(){return I$v(K5(this.f_))}s_(){var r=K5(this.f_);return r.C>0?r.C+bg(r):r.C}getProgressState(){const r=K5(this.f_),n=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:r.playerState!=1081&&this.player.k5(),clipEnd:n.clipEnd,clipStart:n.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.rl(),isAtLiveHead:this.isAtLiveHead(),loaded:this.UL(),seekableEnd:this.V$(),seekableStart:this.s_(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return I$v(K5(this.f_))-this.getCurrentTime()<=1}nextVideo(){this.f_&&this.f_.nextVideo()}rp(){this.f_&&this.f_.rp()}xP(r){r===1&&(this.q4=this.f_?K5(this.f_):null)}uK(){var r=tt()?new cka:null;if(r){const n=this.wL;this.loaded&&this.unload();this.f_=r;this.q4=null;n.key!==this.Al.key&&
(this.wL=n,this.load())}else g.lU(this.f_),this.f_=null,this.loaded&&(this.unload(),(r=this.q4)&&r.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(r.videoId,U1(r)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}DF(){var r=[this.Al],n=r.concat;const u=YfY();L5()&&g.QL("yt-remote-cast-available")&&u.push({key:"cast-selector-receiver",name:"Cast..."});this.d6=n.call(r,u);r=j0()||this.Al;oo(this,r);g.Sd(this.player,"onMdxReceiversChange")}gm(){const r=
j0();oo(this,r)}FI(){this.wL=j0()}C6(){this.eE=!0;S0(this);YP=!1;kP&&wE(kP,1);kP=null}cn(){this.eE=!1;S0(this);oo(this,this.Al);this.wL=this.Al;YP=!1;kP=null;this.player.playVideo()}JG(r,n){switch(r){case "casting":return this.loaded;case "receivers":return this.d6;case "currentReceiver":return n&&(n.key==="cast-selector-receiver"?$v():oo(this,n)),this.loaded?this.wL:this.Al;case "quickCast":return this.d6.length===2&&this.d6[1].key==="cast-selector-receiver"?(n&&$v(),!0):!1}}Ig(){this.f_.Ig()}dY(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.K("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.K("SESSION_INDEX")&&!g.K("LOGGED_IN"))}});})(_yt_player);
